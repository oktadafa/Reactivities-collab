2024-05-01 12:34:20.406 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 12:34:21.167 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 12:34:21.624 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 12:34:21.667 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 12:34:21.709 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 12:34:21.728 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 12:34:21.731 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 12:34:21.743 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 12:34:21.961 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 12:34:29.386 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 12:34:29.984 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 12:34:30.336 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 12:34:30.358 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 12:34:30.384 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 12:34:30.399 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 12:34:30.401 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 12:34:30.413 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 12:34:30.612 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 12:34:31.202 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 12:34:31.203 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 12:34:31.204 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 12:34:31.205 +07:00 [INF] Hosting environment: Development
2024-05-01 12:34:31.205 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 12:34:31.535 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2024-05-01 12:34:31.702 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 12:34:31.709 +07:00 [INF] Executing endpoint '/'
2024-05-01 12:34:31.711 +07:00 [INF] Executing RedirectResult, redirecting to /api.
2024-05-01 12:34:31.713 +07:00 [INF] Executed endpoint '/'
2024-05-01 12:34:31.714 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 180.3654ms
2024-05-01 12:34:31.721 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api - null null
2024-05-01 12:34:31.728 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api - 302 0 null 6.9636ms
2024-05-01 12:34:31.735 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 12:34:31.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 52.1614ms
2024-05-01 12:34:31.809 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 12:34:31.839 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 29.439ms
2024-05-01 12:34:32.248 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 12:34:32.256 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 12:34:32.257 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 8.7578ms
2024-05-01 12:34:54.981 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:34:54.981 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:34:54.983 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:54.983 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:54.984 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 3.1553ms
2024-05-01 12:34:54.984 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 3.0424ms
2024-05-01 12:34:54.994 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:34:54.996 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:54.996 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:54.996 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:34:55.501 +07:00 [INF] Executed DbCommand (150ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:34:55.595 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:34:55.598 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:55.598 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:55.598 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:34:55.604 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:34:55.618 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 623.733ms
2024-05-01 12:34:55.630 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:34:55.636 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:34:55.637 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 42.3001ms
2024-05-01 12:34:55.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:34:55.865 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:55.865 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:55.866 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:34:55.900 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:34:55.903 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:34:55.904 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 39.5607ms
2024-05-01 12:34:55.905 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:34:55.905 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:55.905 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:34:55.906 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:34:55.912 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:34:55.916 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:34:55.916 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.3098ms
2024-05-01 12:36:24.328 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:36:24.328 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:36:24.328 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:24.328 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:24.329 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.6941ms
2024-05-01 12:36:24.329 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.6879ms
2024-05-01 12:36:24.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:36:24.335 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:24.335 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:24.335 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:36:24.345 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:36:24.349 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:36:24.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 15.0089ms
2024-05-01 12:36:24.350 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:36:24.351 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:24.351 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:24.351 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:36:24.358 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:36:24.361 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:36:24.362 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.4206ms
2024-05-01 12:36:26.856 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity?ListId=1&PageNumber=1&PageSize=2&startDate=2024-05-01T05:36:26.834Z&params= - null null
2024-05-01 12:36:26.863 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:26.863 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity?ListId=1&PageNumber=1&PageSize=2&startDate=2024-05-01T05:36:26.834Z&params= - 204 null null 7.4911ms
2024-05-01 12:36:26.868 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity?ListId=1&PageNumber=1&PageSize=2&startDate=2024-05-01T05:36:26.834Z&params= - null null
2024-05-01 12:36:26.868 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:26.869 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:26.869 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/ => GetActivityList'
2024-05-01 12:36:26.930 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_startDate_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Activities" AS a
WHERE a."Date" >= @__request_startDate_0
2024-05-01 12:36:26.972 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_startDate_0='?' (DbType = DateTime), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Date" >= @__request_startDate_0
    ORDER BY a."Date" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Date" DESC, t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:36:26.989 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/ => GetActivityList'
2024-05-01 12:36:26.990 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity?ListId=1&PageNumber=1&PageSize=2&startDate=2024-05-01T05:36:26.834Z&params= - 200 null application/json; charset=utf-8 121.8394ms
2024-05-01 12:36:32.663 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/profiles/oktadafasampang@gmail.com - null null
2024-05-01 12:36:32.663 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:32.664 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/profiles/oktadafasampang@gmail.com - 204 null null 0.5174ms
2024-05-01 12:36:32.679 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/profiles/oktadafasampang@gmail.com - null null
2024-05-01 12:36:32.684 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:32.684 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:32.684 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Profiles/{Username} => GetProfiles'
2024-05-01 12:36:32.709 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__currentUsername_0='?', @__request_Username_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserName", t."DisplayName", t."Bio", t.c, t."Id", p0.id, p0."AppUserId", p0."FileName", p0."fileBase64", p0."isMain", t.c0, t.c1, t.c2
FROM (
    SELECT a."UserName", a."DisplayName", a."Bio", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u
        WHERE a."Id" = u."TargetId") AS c, (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a."Id" = u0."ObserverId") AS c0, EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u1
        INNER JOIN "AspNetUsers" AS a0 ON u1."ObserverId" = a0."Id"
        WHERE a."Id" = u1."TargetId" AND a0."UserName" = @__currentUsername_0) AS c1, (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS c2, a."Id"
    FROM "AspNetUsers" AS a
    WHERE a."UserName" = @__request_Username_1
    LIMIT 2
) AS t
LEFT JOIN "Photos" AS p0 ON t."Id" = p0."AppUserId"
ORDER BY t."Id"
2024-05-01 12:36:32.717 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Profiles/{Username} => GetProfiles'
2024-05-01 12:36:32.717 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/profiles/oktadafasampang@gmail.com - 200 null application/json; charset=utf-8 37.684ms
2024-05-01 12:36:47.493 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity?ListId=1&PageNumber=1&PageSize=2&startDate=2024-05-01T05:36:47.474Z&params= - null null
2024-05-01 12:36:47.493 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:47.494 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity?ListId=1&PageNumber=1&PageSize=2&startDate=2024-05-01T05:36:47.474Z&params= - 204 null null 0.5201ms
2024-05-01 12:36:47.507 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity?ListId=1&PageNumber=1&PageSize=2&startDate=2024-05-01T05:36:47.474Z&params= - null null
2024-05-01 12:36:47.508 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:47.508 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:47.508 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/ => GetActivityList'
2024-05-01 12:36:47.515 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_startDate_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Activities" AS a
WHERE a."Date" >= @__request_startDate_0
2024-05-01 12:36:47.523 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_startDate_0='?' (DbType = DateTime), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Date" >= @__request_startDate_0
    ORDER BY a."Date" DESC
    LIMIT @__p_3 OFFSET @__p_2
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Date" DESC, t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:36:47.531 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/ => GetActivityList'
2024-05-01 12:36:47.531 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity?ListId=1&PageNumber=1&PageSize=2&startDate=2024-05-01T05:36:47.474Z&params= - 200 null application/json; charset=utf-8 23.6404ms
2024-05-01 12:36:48.999 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:36:49.000 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.000 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 1.0712ms
2024-05-01 12:36:49.005 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:36:49.005 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.005 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3846ms
2024-05-01 12:36:49.005 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:36:49.006 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.006 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.3446ms
2024-05-01 12:36:49.007 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:36:49.008 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.008 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.008 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:36:49.009 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:36:49.009 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.009 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.009 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:36:49.011 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:36:49.013 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.013 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.013 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:36:49.013 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:36:49.013 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:36:49.013 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 4.6414ms
2024-05-01 12:36:49.014 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 6.431ms
2024-05-01 12:36:49.019 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=feXeqjQQcguCsTMfNX588A&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:36:49.020 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.020 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:36:49.020 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:36:49.037 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:36:49.057 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:36:49.057 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 45.839ms
2024-05-01 12:36:49.083 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:37:53.965 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:37:53.966 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=feXeqjQQcguCsTMfNX588A&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 64946.2434ms
2024-05-01 12:37:54.447 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:37:54.448 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:37:54.448 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.448 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.6054ms
2024-05-01 12:37:54.448 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.449 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 2.2282ms
2024-05-01 12:37:54.454 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:37:54.454 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.454 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.454 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:37:54.464 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:37:54.468 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:37:54.468 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 14.9197ms
2024-05-01 12:37:54.470 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:37:54.471 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.472 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.472 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:37:54.526 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:37:54.530 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:37:54.530 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 59.7855ms
2024-05-01 12:37:54.622 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:37:54.622 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:37:54.622 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.622 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.622 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:37:54.623 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.8779ms
2024-05-01 12:37:54.623 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.8193ms
2024-05-01 12:37:54.623 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.623 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.2287ms
2024-05-01 12:37:54.629 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:37:54.629 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:37:54.629 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:37:54.629 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.629 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.629 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.629 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.629 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:37:54.629 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:37:54.630 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:37:54.630 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.123ms
2024-05-01 12:37:54.632 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:37:54.632 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.632 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 3.5191ms
2024-05-01 12:37:54.633 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.633 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:37:54.642 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:37:54.647 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:37:54.647 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 18.0592ms
2024-05-01 12:37:54.828 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=nWM87FKIIQJwip3B37pYug&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:37:54.828 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.828 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:37:54.828 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:37:54.898 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:38:29.954 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:38:29.954 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=nWM87FKIIQJwip3B37pYug&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 35125.7963ms
2024-05-01 12:38:30.398 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:38:30.399 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.399 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:38:30.399 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.7002ms
2024-05-01 12:38:30.399 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.399 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.5017ms
2024-05-01 12:38:30.404 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:38:30.404 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.404 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.404 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:38:30.410 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:38:30.416 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:38:30.416 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 12.0617ms
2024-05-01 12:38:30.416 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:38:30.417 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.417 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.417 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:38:30.423 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:38:30.426 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:38:30.427 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.1785ms
2024-05-01 12:38:30.562 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:38:30.562 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:38:30.562 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.562 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.562 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.211ms
2024-05-01 12:38:30.562 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3756ms
2024-05-01 12:38:30.563 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:38:30.563 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.563 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.306ms
2024-05-01 12:38:30.566 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:38:30.566 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:38:30.567 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:38:30.567 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.567 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.567 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.567 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:38:30.567 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.567 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:38:30.567 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:38:30.567 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.8753ms
2024-05-01 12:38:30.569 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.570 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.570 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:38:30.570 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:38:30.571 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 3.9992ms
2024-05-01 12:38:30.580 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:38:30.583 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:38:30.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 16.8036ms
2024-05-01 12:38:30.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:38:30.766 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.766 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.766 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:38:30.772 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:38:30.775 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:38:30.776 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 9.4908ms
2024-05-01 12:38:30.800 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=neG-MY2NqIHhz6gSx5BBuw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:38:30.800 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.800 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.800 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:38:30.843 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:38:30.956 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:38:30.957 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.957 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:38:30.957 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:38:30.999 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:38:31.003 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:38:31.003 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 47.0018ms
2024-05-01 12:39:51.959 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:39:51.959 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=neG-MY2NqIHhz6gSx5BBuw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 81159.2825ms
2024-05-01 12:39:52.698 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:39:52.698 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.699 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.3402ms
2024-05-01 12:39:52.699 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:39:52.699 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.699 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.3717ms
2024-05-01 12:39:52.703 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:39:52.704 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.704 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.704 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:39:52.715 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:39:52.717 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:39:52.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 15.104ms
2024-05-01 12:39:52.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:39:52.720 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.720 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.720 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:39:52.728 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:39:52.730 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:39:52.731 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.4261ms
2024-05-01 12:39:52.949 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:39:52.949 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.949 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:39:52.949 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:39:52.949 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.353ms
2024-05-01 12:39:52.949 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.949 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.949 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.266ms
2024-05-01 12:39:52.949 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.2802ms
2024-05-01 12:39:52.955 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:39:52.955 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:39:52.956 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.956 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.956 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.956 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:39:52.956 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.956 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:39:52.956 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:39:52.956 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:39:52.956 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.8014ms
2024-05-01 12:39:52.956 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.7518ms
2024-05-01 12:39:52.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:39:52.959 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.959 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:52.959 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:39:52.969 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:39:52.973 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:39:52.973 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 15.2367ms
2024-05-01 12:39:53.297 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=ZEJEP5KBmXu-9ZgPmqnMyA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:39:53.299 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:53.299 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:39:53.299 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:39:53.387 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:40:06.936 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:40:06.936 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=ZEJEP5KBmXu-9ZgPmqnMyA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 13639.1738ms
2024-05-01 12:40:06.940 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:00000041": the application completed without reading the entire request body.
2024-05-01 12:40:06.942 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:06.942 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:06.942 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2341ms
2024-05-01 12:40:06.945 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:06.946 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:06.946 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:06.946 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:06.953 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:40:06.956 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:06.956 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.4214ms
2024-05-01 12:40:07.031 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:07.031 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.031 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2492ms
2024-05-01 12:40:07.032 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:07.032 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.032 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3245ms
2024-05-01 12:40:07.035 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:40:07.035 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.035 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.3603ms
2024-05-01 12:40:07.036 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:07.036 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:07.037 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.037 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.037 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:07.037 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:07.037 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.037 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5851ms
2024-05-01 12:40:07.037 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.037 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:07.037 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:07.037 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.8668ms
2024-05-01 12:40:07.039 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:40:07.040 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.040 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.040 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:40:07.049 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=veJ3aEy07CSGTSBvGqyo9A&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:40:07.050 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.050 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:07.050 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:40:07.053 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:40:07.057 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:40:07.057 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 17.3486ms
2024-05-01 12:40:07.068 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:40:14.939 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:40:14.939 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=veJ3aEy07CSGTSBvGqyo9A&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 7890.1805ms
2024-05-01 12:40:15.352 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:15.353 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:15.353 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.353 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.353 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2987ms
2024-05-01 12:40:15.353 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.1943ms
2024-05-01 12:40:15.357 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:15.357 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.357 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.357 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:15.365 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:40:15.367 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:15.367 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.7172ms
2024-05-01 12:40:15.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:15.369 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.369 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.369 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:15.374 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:40:15.377 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:15.377 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.0948ms
2024-05-01 12:40:15.566 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:15.566 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:15.566 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.566 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.566 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.4672ms
2024-05-01 12:40:15.567 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:40:15.567 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.567 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.0851ms
2024-05-01 12:40:15.567 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.5158ms
2024-05-01 12:40:15.571 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:15.571 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:15.571 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.571 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.571 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:15.572 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.572 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.572 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:15.572 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:15.572 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.7482ms
2024-05-01 12:40:15.573 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:15.573 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 2.1328ms
2024-05-01 12:40:15.574 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:40:15.575 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.576 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.576 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:40:15.585 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:40:15.591 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:40:15.592 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 17.0978ms
2024-05-01 12:40:15.897 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=rUqL-7LRLprwebEejytR5A&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:40:15.897 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.897 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:15.897 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:40:15.935 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:40:19.939 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:40:19.940 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=rUqL-7LRLprwebEejytR5A&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 4042.9146ms
2024-05-01 12:40:20.373 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:20.373 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:20.374 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.374 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.374 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.1527ms
2024-05-01 12:40:20.374 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2544ms
2024-05-01 12:40:20.378 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:20.378 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.378 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.378 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:20.384 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:40:20.387 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:20.387 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.4999ms
2024-05-01 12:40:20.388 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:20.388 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.388 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.388 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:20.395 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:40:20.434 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:20.435 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 46.4962ms
2024-05-01 12:40:20.664 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:20.665 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:40:20.665 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.665 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.1658ms
2024-05-01 12:40:20.665 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.664 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:20.665 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.7996ms
2024-05-01 12:40:20.666 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.666 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 1.6016ms
2024-05-01 12:40:20.671 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:20.672 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:20.672 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.672 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.672 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:20.673 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.673 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:20.673 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.4981ms
2024-05-01 12:40:20.673 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.673 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:40:20.673 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:20.673 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.673 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:20.673 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:20.674 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:40:20.673 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.549ms
2024-05-01 12:40:20.681 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:40:20.685 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:40:20.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 12.5196ms
2024-05-01 12:40:21.109 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=B4Etdz-D_IQAWUC9r9tmwA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:40:21.110 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:21.111 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:21.111 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:40:21.146 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:40:24.953 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:40:24.953 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=B4Etdz-D_IQAWUC9r9tmwA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 3843.5361ms
2024-05-01 12:40:28.168 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:28.169 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.169 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:28.169 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.7893ms
2024-05-01 12:40:28.169 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.169 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.1418ms
2024-05-01 12:40:28.174 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:28.175 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.175 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.175 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:28.183 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:40:28.186 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:28.186 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 12.0907ms
2024-05-01 12:40:28.188 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:40:28.189 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.189 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.189 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:28.196 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:40:28.200 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:40:28.200 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 12.6729ms
2024-05-01 12:40:28.449 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:28.450 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.450 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 1.343ms
2024-05-01 12:40:28.451 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:28.451 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.451 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.1698ms
2024-05-01 12:40:28.453 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:40:28.454 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.454 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.3602ms
2024-05-01 12:40:28.454 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:28.455 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:28.455 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.455 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.455 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:28.455 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:28.455 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5014ms
2024-05-01 12:40:28.456 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.457 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.457 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:28.457 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:28.457 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 2.4989ms
2024-05-01 12:40:28.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:40:28.461 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.461 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.462 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:40:28.470 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:40:28.476 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:40:28.476 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 16.076ms
2024-05-01 12:40:28.730 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=-ezuxZKTgrAxPh3Qv8r6Og&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:40:28.730 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.730 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:28.730 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:40:28.761 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:40:59.907 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:40:59.907 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=-ezuxZKTgrAxPh3Qv8r6Og&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 31177.7704ms
2024-05-01 12:40:59.908 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:0000006F": the application completed without reading the entire request body.
2024-05-01 12:40:59.916 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:40:59.916 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:59.916 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.4131ms
2024-05-01 12:40:59.921 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:40:59.922 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:59.922 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:59.922 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:40:59.922 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:40:59.922 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.8835ms
2024-05-01 12:40:59.930 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=eSQMUxEueCNxrck23-r8cA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:40:59.930 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:59.930 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:40:59.930 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:40:59.953 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:41:01.955 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:41:01.955 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=eSQMUxEueCNxrck23-r8cA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 2025.5897ms
2024-05-01 12:41:02.493 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:02.493 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:02.493 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.493 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.493 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.1202ms
2024-05-01 12:41:02.493 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2359ms
2024-05-01 12:41:02.497 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:02.498 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.498 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.498 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:02.504 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:41:02.508 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:02.508 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.2065ms
2024-05-01 12:41:02.509 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:02.510 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.510 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.510 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:02.515 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:41:02.519 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:02.521 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.2166ms
2024-05-01 12:41:02.762 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:41:02.763 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.764 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 1.8717ms
2024-05-01 12:41:02.766 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:41:02.768 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.769 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 3.4628ms
2024-05-01 12:41:02.770 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:41:02.771 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.771 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 1.7452ms
2024-05-01 12:41:02.783 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:41:02.783 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:41:02.783 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.783 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.783 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:41:02.783 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:41:02.783 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5536ms
2024-05-01 12:41:02.783 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.784 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.784 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:41:02.784 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:41:02.784 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.1532ms
2024-05-01 12:41:02.793 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:41:02.793 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.794 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:02.794 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:02.802 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:41:02.811 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:02.812 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 19.1932ms
2024-05-01 12:41:03.069 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=1vN6rPgZ3BiTLtqNg1oQ-w&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:41:03.070 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:03.070 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:03.070 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:41:03.099 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:41:14.950 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:41:14.950 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:14.950 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.3628ms
2024-05-01 12:41:14.971 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:41:14.971 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:14.972 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:14.972 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:14.986 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:41:14.992 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:14.992 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 20.621ms
2024-05-01 12:41:15.053 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:41:15.053 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=1vN6rPgZ3BiTLtqNg1oQ-w&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 11983.5743ms
2024-05-01 12:41:15.398 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:15.398 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:15.398 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.398 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.398 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2716ms
2024-05-01 12:41:15.398 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2471ms
2024-05-01 12:41:15.404 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:15.404 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.404 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.404 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:15.415 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:41:15.420 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:15.420 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 15.8116ms
2024-05-01 12:41:15.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:15.421 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.421 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.421 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:15.428 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:41:15.432 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:15.432 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.0729ms
2024-05-01 12:41:15.522 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:41:15.523 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:41:15.523 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.523 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2383ms
2024-05-01 12:41:15.523 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.523 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.7211ms
2024-05-01 12:41:15.523 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:41:15.524 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.524 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.524 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:15.532 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:41:15.534 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.534 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.534 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:41:15.534 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:41:15.532 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:41:15.534 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:41:15.535 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 2.4691ms
2024-05-01 12:41:15.535 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.535 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.535 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:41:15.535 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:41:15.535 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 3.2005ms
2024-05-01 12:41:15.623 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=JmCJd_9Ir98WDYjTMO1ebA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:41:15.623 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.623 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:15.623 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:41:15.712 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:41:15.846 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:15.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 322.5148ms
2024-05-01 12:41:51.719 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:41:51.719 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:51.719 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.6251ms
2024-05-01 12:41:51.724 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:41:51.724 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:51.724 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:51.724 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:51.772 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:41:51.772 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=JmCJd_9Ir98WDYjTMO1ebA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 36149.2331ms
2024-05-01 12:41:51.801 +07:00 [INF] Executed DbCommand (75ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:41:51.804 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:51.804 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 499 null application/json; charset=utf-8 80.2791ms
2024-05-01 12:41:52.111 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:52.112 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.113 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 1.7668ms
2024-05-01 12:41:52.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:52.114 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.114 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2925ms
2024-05-01 12:41:52.122 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:52.123 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.123 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.123 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:52.131 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:41:52.134 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:52.134 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.5988ms
2024-05-01 12:41:52.135 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:41:52.135 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.136 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.136 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:52.142 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:41:52.144 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:41:52.144 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.2499ms
2024-05-01 12:41:52.276 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:41:52.276 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:41:52.277 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.277 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2948ms
2024-05-01 12:41:52.277 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.277 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.5026ms
2024-05-01 12:41:52.279 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:41:52.280 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.280 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.280 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:52.282 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:41:52.284 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.284 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.285 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:41:52.285 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:41:52.285 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 3.18ms
2024-05-01 12:41:52.285 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:41:52.286 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.286 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.286 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:41:52.286 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:41:52.286 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.6053ms
2024-05-01 12:41:52.292 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:41:52.300 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:41:52.300 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 20.6054ms
2024-05-01 12:41:52.414 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=lCAdOCtrIQZl6nO3mTGAMw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:41:52.415 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.415 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:41:52.415 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:41:52.471 +07:00 [INF] Executed DbCommand (29ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:42:21.975 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:42:21.976 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=lCAdOCtrIQZl6nO3mTGAMw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 29561.7861ms
2024-05-01 12:42:22.671 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:42:22.671 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.672 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2943ms
2024-05-01 12:42:22.672 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:42:22.672 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.672 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.189ms
2024-05-01 12:42:22.676 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:42:22.676 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.676 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.676 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:42:22.684 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:42:22.686 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:42:22.687 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.3853ms
2024-05-01 12:42:22.688 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:42:22.688 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.688 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.688 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:42:22.695 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:42:22.697 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:42:22.698 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.6597ms
2024-05-01 12:42:22.940 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:42:22.940 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.940 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:42:22.940 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.5605ms
2024-05-01 12:42:22.941 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.941 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.4156ms
2024-05-01 12:42:22.942 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:42:22.942 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.942 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.3092ms
2024-05-01 12:42:22.945 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:42:22.945 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:42:22.946 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.946 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.946 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.946 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.946 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:42:22.946 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:42:22.946 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:42:22.946 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:42:22.946 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5222ms
2024-05-01 12:42:22.946 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.567ms
2024-05-01 12:42:22.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:42:22.948 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.948 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:22.948 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:42:22.955 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:42:22.959 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:42:22.959 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 11.5595ms
2024-05-01 12:42:23.267 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=nKshFgL1FXoDzn4yltsKYQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:42:23.267 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:23.267 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:23.267 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:42:23.334 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:42:53.895 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:42:53.895 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=nKshFgL1FXoDzn4yltsKYQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 30628.4581ms
2024-05-01 12:42:53.895 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:000000A7": the application completed without reading the entire request body.
2024-05-01 12:42:53.904 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:42:53.904 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:53.904 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2594ms
2024-05-01 12:42:53.908 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:42:53.908 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:53.909 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:53.909 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:42:53.909 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:42:53.909 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5334ms
2024-05-01 12:42:53.916 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=esM7-V_XyrE3JinOiSdt-Q&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:42:53.916 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:53.916 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:42:53.916 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:42:53.936 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:43:07.975 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:43:07.975 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=esM7-V_XyrE3JinOiSdt-Q&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 14059.4242ms
2024-05-01 12:43:07.975 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:000000AB": the application completed without reading the entire request body.
2024-05-01 12:43:14.353 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:43:14.353 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.353 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2562ms
2024-05-01 12:43:14.353 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:43:14.354 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.354 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2478ms
2024-05-01 12:43:14.358 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:43:14.359 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.359 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.359 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:43:14.366 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:43:14.369 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:43:14.369 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.6623ms
2024-05-01 12:43:14.370 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:43:14.370 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.370 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.370 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:43:14.376 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:43:14.378 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:43:14.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.0799ms
2024-05-01 12:43:14.599 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:43:14.599 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.600 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.5739ms
2024-05-01 12:43:14.600 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:43:14.601 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.601 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.7228ms
2024-05-01 12:43:14.603 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:43:14.603 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.604 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.9274ms
2024-05-01 12:43:14.604 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:43:14.604 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.604 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.604 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:43:14.604 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:43:14.605 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5736ms
2024-05-01 12:43:14.609 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:43:14.633 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.639 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.639 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:43:14.639 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:43:14.639 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:43:14.639 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 30.5283ms
2024-05-01 12:43:14.639 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.639 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.639 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:43:14.652 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:43:14.657 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:43:14.657 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 18.1758ms
2024-05-01 12:43:14.976 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=b2a6Ac_49ELW77D9e9J5DQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:43:14.978 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.979 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:14.979 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:43:15.020 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:43:45.893 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:43:45.893 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=b2a6Ac_49ELW77D9e9J5DQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 30916.667ms
2024-05-01 12:43:45.893 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:000000B7": the application completed without reading the entire request body.
2024-05-01 12:43:45.905 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:43:45.905 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:45.905 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2469ms
2024-05-01 12:43:45.909 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:43:45.909 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:45.909 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:45.909 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:43:45.909 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:43:45.910 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.491ms
2024-05-01 12:43:45.916 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=DGeqnMyidEDc2oepABPvMA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:43:45.917 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:45.917 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:45.917 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:43:45.930 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:43:47.951 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:43:47.951 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=DGeqnMyidEDc2oepABPvMA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 2034.4637ms
2024-05-01 12:43:48.390 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:43:48.390 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.390 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2657ms
2024-05-01 12:43:48.390 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:43:48.391 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.391 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2994ms
2024-05-01 12:43:48.395 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:43:48.395 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.395 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.395 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:43:48.402 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:43:48.406 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:43:48.406 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.2349ms
2024-05-01 12:43:48.407 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:43:48.407 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.407 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.407 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:43:48.413 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:43:48.416 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:43:48.416 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.622ms
2024-05-01 12:43:48.630 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:43:48.630 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:43:48.631 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.631 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.631 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2721ms
2024-05-01 12:43:48.631 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2785ms
2024-05-01 12:43:48.631 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:43:48.632 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.632 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.3138ms
2024-05-01 12:43:48.636 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:43:48.636 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:43:48.637 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.637 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.637 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.637 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.637 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:43:48.637 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:43:48.637 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:43:48.637 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5193ms
2024-05-01 12:43:48.637 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:43:48.637 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:43:48.637 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.9247ms
2024-05-01 12:43:48.637 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.637 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.637 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:43:48.644 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:43:48.647 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:43:48.647 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 9.5047ms
2024-05-01 12:43:48.911 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=xK6OCyN7Cw8RnpG8ean-8Q&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:43:48.911 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.911 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:43:48.911 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:43:49.020 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:44:19.890 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:44:19.890 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=xK6OCyN7Cw8RnpG8ean-8Q&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 30979.5648ms
2024-05-01 12:44:19.891 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:000000C7": the application completed without reading the entire request body.
2024-05-01 12:44:19.900 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:44:19.900 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:19.901 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3859ms
2024-05-01 12:44:19.904 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:44:19.904 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:19.905 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:19.905 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:44:19.905 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:44:19.905 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.7066ms
2024-05-01 12:44:19.911 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=EYGqHAgHfSPmQBr5f8VYPA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:44:19.911 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:19.911 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:19.911 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:44:19.926 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:44:25.953 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:44:25.953 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=EYGqHAgHfSPmQBr5f8VYPA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 6042.863ms
2024-05-01 12:44:26.360 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:44:26.360 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.360 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2172ms
2024-05-01 12:44:26.363 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:44:26.363 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.363 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.3425ms
2024-05-01 12:44:26.368 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:44:26.368 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.368 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.368 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:44:26.375 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:44:26.378 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:44:26.378 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.187ms
2024-05-01 12:44:26.379 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:44:26.380 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.381 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.381 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:44:26.388 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:44:26.391 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:44:26.392 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.9428ms
2024-05-01 12:44:26.570 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:44:26.570 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.570 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3627ms
2024-05-01 12:44:26.570 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:44:26.570 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.570 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.1583ms
2024-05-01 12:44:26.573 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:44:26.573 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.573 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.2271ms
2024-05-01 12:44:26.576 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:44:26.577 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:44:26.577 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.577 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.577 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:44:26.577 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.577 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.577 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:44:26.577 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:44:26.577 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:44:26.577 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.8105ms
2024-05-01 12:44:26.578 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.0473ms
2024-05-01 12:44:26.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:44:26.580 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.580 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.580 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:44:26.586 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:44:26.590 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:44:26.590 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 10.9388ms
2024-05-01 12:44:26.855 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=hlBiRLMlFr07yr7_t8Fxvg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:44:26.856 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.856 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:26.856 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:44:26.883 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:44:37.740 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:44:37.740 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:37.740 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.2436ms
2024-05-01 12:44:37.745 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:44:37.745 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:37.745 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:37.745 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:44:37.768 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:44:37.770 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:44:37.770 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 25.7359ms
2024-05-01 12:44:37.789 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:44:37.790 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=hlBiRLMlFr07yr7_t8Fxvg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 10934.2186ms
2024-05-01 12:44:38.182 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:44:38.182 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.182 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.3298ms
2024-05-01 12:44:38.183 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:44:38.183 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.183 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.1802ms
2024-05-01 12:44:38.187 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:44:38.187 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.187 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.187 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:44:38.193 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:44:38.195 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:44:38.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.2453ms
2024-05-01 12:44:38.197 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:44:38.197 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.197 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.197 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:44:38.203 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:44:38.205 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:44:38.205 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.5991ms
2024-05-01 12:44:38.468 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:44:38.468 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:44:38.468 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.468 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.468 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3438ms
2024-05-01 12:44:38.468 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.182ms
2024-05-01 12:44:38.469 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:44:38.469 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.469 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.469 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:44:38.474 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:44:38.476 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.476 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.476 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:44:38.476 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:44:38.476 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:44:38.476 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 2.2008ms
2024-05-01 12:44:38.477 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.477 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.478 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:44:38.478 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:44:38.478 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.9092ms
2024-05-01 12:44:38.478 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:44:38.483 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:44:38.483 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 14.0836ms
2024-05-01 12:44:38.755 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=Ez4aYutMVUdrgWo-Fk6DAQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:44:38.755 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.755 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:44:38.755 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:44:38.801 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:45:09.899 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:45:09.899 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=Ez4aYutMVUdrgWo-Fk6DAQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 31143.9648ms
2024-05-01 12:45:09.899 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:000000E5": the application completed without reading the entire request body.
2024-05-01 12:45:09.911 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:45:09.912 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:09.912 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3313ms
2024-05-01 12:45:09.916 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:45:09.916 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:09.916 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:09.916 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:45:09.916 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:45:09.916 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.4549ms
2024-05-01 12:45:09.924 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=poaW68yiVeC3wPoLdjIDSg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:45:09.924 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:09.924 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:09.924 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:45:09.939 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:45:18.973 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:45:18.974 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=poaW68yiVeC3wPoLdjIDSg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 9049.364ms
2024-05-01 12:45:19.361 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:45:19.361 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.362 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.3551ms
2024-05-01 12:45:19.362 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:45:19.363 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.363 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.4474ms
2024-05-01 12:45:19.366 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:45:19.367 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.367 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.367 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:45:19.373 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:45:19.377 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:45:19.377 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.8829ms
2024-05-01 12:45:19.377 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:45:19.378 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.378 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.378 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:45:19.383 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:45:19.387 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:45:19.387 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.3715ms
2024-05-01 12:45:19.448 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:45:19.448 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.448 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3092ms
2024-05-01 12:45:19.449 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:45:19.450 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.450 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2422ms
2024-05-01 12:45:19.450 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:45:19.451 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.451 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.5134ms
2024-05-01 12:45:19.453 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:45:19.454 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:45:19.454 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.454 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.454 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.454 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.454 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:45:19.454 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:45:19.454 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:45:19.454 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.3697ms
2024-05-01 12:45:19.454 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:45:19.454 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5281ms
2024-05-01 12:45:19.456 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:45:19.457 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.457 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.457 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:45:19.463 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:45:19.466 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:45:19.467 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 10.207ms
2024-05-01 12:45:19.938 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=aB6kJ7f1ECf610Ze9Qsj5g&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:45:19.939 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.939 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:19.939 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:45:19.995 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:45:50.883 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:45:50.884 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:50.884 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.4364ms
2024-05-01 12:45:50.894 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:45:50.895 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:50.896 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:50.896 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:45:50.898 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:45:50.899 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=aB6kJ7f1ECf610Ze9Qsj5g&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 30960.2954ms
2024-05-01 12:45:50.900 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:000000F5": the application completed without reading the entire request body.
2024-05-01 12:45:50.908 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:45:50.912 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:45:50.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 19.9226ms
2024-05-01 12:45:51.280 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:45:51.281 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.281 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:45:51.281 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2726ms
2024-05-01 12:45:51.281 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.281 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.1341ms
2024-05-01 12:45:51.288 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:45:51.288 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.288 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.288 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:45:51.295 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:45:51.297 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:45:51.297 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.1861ms
2024-05-01 12:45:51.298 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:45:51.300 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.301 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.301 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:45:51.307 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:45:51.310 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:45:51.310 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.7392ms
2024-05-01 12:45:51.404 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:45:51.404 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:45:51.404 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.404 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.404 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.1417ms
2024-05-01 12:45:51.404 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2967ms
2024-05-01 12:45:51.405 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:45:51.405 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.405 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.405 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:45:51.412 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:45:51.413 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.413 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.413 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:45:51.413 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:45:51.413 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.0621ms
2024-05-01 12:45:51.416 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:45:51.417 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.417 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.417 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:45:51.417 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:45:51.418 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 5.2687ms
2024-05-01 12:45:51.418 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:45:51.422 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:45:51.422 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 16.6744ms
2024-05-01 12:45:51.496 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=OHrE6BVu_Wm_007FM7kTYw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:45:51.496 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.496 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:45:51.496 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:45:51.576 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:46:51.901 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:46:51.901 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=OHrE6BVu_Wm_007FM7kTYw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 60405.0792ms
2024-05-01 12:46:51.901 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:00000103": the application completed without reading the entire request body.
2024-05-01 12:46:51.909 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:46:51.910 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:46:51.910 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2122ms
2024-05-01 12:46:51.913 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:46:51.914 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:46:51.914 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:46:51.914 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:46:51.914 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:46:51.914 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.3328ms
2024-05-01 12:46:51.920 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=gXKMfoS44PAyvtCXlM-NUQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:46:51.920 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:46:51.921 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:46:51.921 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:46:51.936 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:47:10.423 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:47:10.423 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=gXKMfoS44PAyvtCXlM-NUQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 18503.0715ms
2024-05-01 12:47:10.835 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:47:10.835 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:10.835 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2898ms
2024-05-01 12:47:10.836 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:47:10.836 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:10.837 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.228ms
2024-05-01 12:47:10.839 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:47:10.839 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:10.839 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:10.839 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:47:10.845 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:47:10.847 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:47:10.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.4527ms
2024-05-01 12:47:10.848 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:47:10.848 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:10.848 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:10.848 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:47:10.854 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:47:10.856 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:47:10.856 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 7.8191ms
2024-05-01 12:47:11.160 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:47:11.160 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.160 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2566ms
2024-05-01 12:47:11.160 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:47:11.161 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.161 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.1189ms
2024-05-01 12:47:11.162 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:47:11.162 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.162 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.3674ms
2024-05-01 12:47:11.165 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:47:11.165 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.165 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.165 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:47:11.166 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:47:11.166 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.4487ms
2024-05-01 12:47:11.166 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:47:11.166 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.166 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.166 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:47:11.166 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:47:11.166 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.4081ms
2024-05-01 12:47:11.169 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:47:11.170 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.170 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.170 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:47:11.177 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:47:11.179 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:47:11.179 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 10.2457ms
2024-05-01 12:47:11.489 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=OcQl2dCDWEEr2MbZyIB1tg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:47:11.489 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.489 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:11.489 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:47:11.518 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:47:41.890 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:47:41.890 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=OcQl2dCDWEEr2MbZyIB1tg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 30401.5111ms
2024-05-01 12:47:41.891 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:00000113": the application completed without reading the entire request body.
2024-05-01 12:47:41.902 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:47:41.902 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:41.902 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2119ms
2024-05-01 12:47:41.905 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:47:41.906 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:41.906 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:41.906 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:47:41.906 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:47:41.906 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.4657ms
2024-05-01 12:47:41.912 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=zBzg3Cqi1sVT1Nze8vgTdQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:47:41.912 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:41.912 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:47:41.912 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:47:41.928 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:47:59.944 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:47:59.944 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=zBzg3Cqi1sVT1Nze8vgTdQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 18031.7741ms
2024-05-01 12:48:00.435 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:48:00.435 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:48:00.435 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.435 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.435 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2463ms
2024-05-01 12:48:00.435 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.1221ms
2024-05-01 12:48:00.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:48:00.440 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.440 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.440 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:48:00.446 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:48:00.448 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:48:00.449 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.7986ms
2024-05-01 12:48:00.450 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:48:00.450 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.450 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.450 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:48:00.455 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:48:00.458 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:48:00.458 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.5168ms
2024-05-01 12:48:00.682 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:48:00.682 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.683 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.691ms
2024-05-01 12:48:00.683 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:48:00.683 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.683 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.1746ms
2024-05-01 12:48:00.683 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:48:00.683 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.683 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.1144ms
2024-05-01 12:48:00.686 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:48:00.687 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.687 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.687 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:48:00.687 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:48:00.687 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5499ms
2024-05-01 12:48:00.687 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:48:00.688 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.688 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.688 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:48:00.689 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:48:00.689 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.6067ms
2024-05-01 12:48:00.689 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:48:00.690 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.690 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:00.690 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:48:00.698 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:48:00.702 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:48:00.702 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 12.4102ms
2024-05-01 12:48:01.069 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=f50fZqCiYo79j2Ae9cqbRA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:48:01.069 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:01.069 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:01.069 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:48:01.115 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:48:31.898 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:48:31.898 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=f50fZqCiYo79j2Ae9cqbRA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 30829.4729ms
2024-05-01 12:48:31.898 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:00000123": the application completed without reading the entire request body.
2024-05-01 12:48:31.909 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:48:31.909 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:31.909 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2272ms
2024-05-01 12:48:31.913 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:48:31.914 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:31.914 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:31.914 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:48:31.914 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:48:31.914 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.4641ms
2024-05-01 12:48:31.928 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=cwOAMDfgPgvNoXq9wHCRnw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:48:31.928 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:31.928 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:31.928 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:48:31.952 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:48:32.414 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:48:32.414 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=cwOAMDfgPgvNoXq9wHCRnw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 486.4082ms
2024-05-01 12:48:32.462 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:48:32.462 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:48:32.462 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.462 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.462 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2269ms
2024-05-01 12:48:32.462 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.42ms
2024-05-01 12:48:32.467 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:48:32.468 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.468 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.468 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:48:32.475 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:48:32.478 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:48:32.479 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 12.179ms
2024-05-01 12:48:32.480 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:48:32.481 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.481 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.481 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:48:32.487 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:48:32.493 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:48:32.493 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 12.8326ms
2024-05-01 12:48:32.748 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:48:32.748 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.748 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:48:32.748 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.4062ms
2024-05-01 12:48:32.748 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.748 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.1668ms
2024-05-01 12:48:32.749 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:48:32.749 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.750 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.2983ms
2024-05-01 12:48:32.755 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:48:32.756 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.756 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:48:32.756 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.756 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:48:32.756 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.756 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.756 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:48:32.756 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:48:32.756 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:48:32.756 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5529ms
2024-05-01 12:48:32.756 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.3519ms
2024-05-01 12:48:32.759 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:48:32.759 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.759 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:32.759 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:48:32.767 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:48:32.769 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:48:32.769 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 10.4478ms
2024-05-01 12:48:33.093 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=nRIkLjYumbSWuvN0Duvksg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:48:33.094 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:33.094 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:48:33.094 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:48:33.127 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:49:02.549 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:49:02.550 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:02.550 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.5254ms
2024-05-01 12:49:02.585 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:49:02.585 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:02.586 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:02.586 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:49:02.597 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:49:02.600 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:49:02.601 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 15.8798ms
2024-05-01 12:49:02.638 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:49:02.638 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=nRIkLjYumbSWuvN0Duvksg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 29545.0843ms
2024-05-01 12:49:03.043 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:49:03.044 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.045 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 1.0767ms
2024-05-01 12:49:03.046 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:49:03.048 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.048 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 3.054ms
2024-05-01 12:49:03.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:49:03.061 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.061 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.061 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:49:03.069 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:49:03.071 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:49:03.071 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 13.9434ms
2024-05-01 12:49:03.073 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:49:03.073 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.073 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.073 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:49:03.083 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:49:03.087 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:49:03.088 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 14.8028ms
2024-05-01 12:49:03.207 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:49:03.207 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:49:03.207 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:49:03.207 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.207 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.207 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.207 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:49:03.207 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.5665ms
2024-05-01 12:49:03.216 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:49:03.217 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.217 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.217 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:49:03.217 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:49:03.218 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.7714ms
2024-05-01 12:49:03.215 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.220 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 13.2503ms
2024-05-01 12:49:03.224 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:49:03.224 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.224 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.224 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:49:03.224 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:49:03.224 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5787ms
2024-05-01 12:49:03.252 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:49:03.257 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:49:03.257 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 49.8899ms
2024-05-01 12:49:03.377 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=KYsTKJkhz4OehVQHre6VAA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:49:03.377 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.377 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:03.377 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:49:03.430 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:49:48.901 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:49:48.901 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=KYsTKJkhz4OehVQHre6VAA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 45524.3117ms
2024-05-01 12:49:48.901 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:00000141": the application completed without reading the entire request body.
2024-05-01 12:49:48.914 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:49:48.914 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:48.915 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.288ms
2024-05-01 12:49:48.918 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:49:48.919 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:48.919 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:48.919 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:49:48.919 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:49:48.919 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5287ms
2024-05-01 12:49:48.926 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=NYSzbkE_tqo41sK5DeSozw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:49:48.927 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:48.927 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:48.927 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:49:48.957 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:49:59.943 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:49:59.944 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:59.944 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.3918ms
2024-05-01 12:49:59.954 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:49:59.954 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:59.954 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:49:59.954 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:49:59.966 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:49:59.967 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:49:59.967 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=NYSzbkE_tqo41sK5DeSozw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 11040.3582ms
2024-05-01 12:49:59.971 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:49:59.971 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 499 null application/json; charset=utf-8 17.1871ms
2024-05-01 12:50:00.327 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:50:00.332 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.332 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 4.9198ms
2024-05-01 12:50:00.332 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:50:00.335 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.335 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 2.9609ms
2024-05-01 12:50:00.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:50:00.339 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.339 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.339 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:50:00.346 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:50:00.349 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:50:00.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.8254ms
2024-05-01 12:50:00.364 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:50:00.365 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.365 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.365 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:50:00.370 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:50:00.372 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:50:00.373 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.2981ms
2024-05-01 12:50:00.501 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:50:00.502 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.502 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.544ms
2024-05-01 12:50:00.502 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:50:00.502 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.502 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.0564ms
2024-05-01 12:50:00.507 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:50:00.509 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.510 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.510 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:50:00.510 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:50:00.510 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 2.8759ms
2024-05-01 12:50:00.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:50:00.510 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.510 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.510 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:50:00.511 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:50:00.512 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.512 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.512 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:50:00.512 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:50:00.512 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.8258ms
2024-05-01 12:50:00.521 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:50:00.526 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:50:00.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 15.766ms
2024-05-01 12:50:00.546 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=MTkl5Ijl1jWoQf6mIIErhQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:50:00.548 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.549 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:00.549 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:50:00.696 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:50:31.901 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:50:31.901 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=MTkl5Ijl1jWoQf6mIIErhQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 31355.291ms
2024-05-01 12:50:31.901 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:00000153": the application completed without reading the entire request body.
2024-05-01 12:50:31.916 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:50:31.916 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:31.917 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2704ms
2024-05-01 12:50:31.921 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:50:31.921 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:31.921 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:31.921 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:50:31.922 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:50:31.922 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.2816ms
2024-05-01 12:50:31.931 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=VIoMJfzPzhAonSOyZFPZ9w&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:50:31.931 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:31.931 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:50:31.931 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:50:31.948 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:52:17.938 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:52:17.938 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=VIoMJfzPzhAonSOyZFPZ9w&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 106007.6262ms
2024-05-01 12:52:18.522 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:52:18.522 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.522 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2812ms
2024-05-01 12:52:18.522 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:52:18.522 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.522 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.1831ms
2024-05-01 12:52:18.526 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:52:18.526 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.526 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.526 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:52:18.534 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:52:18.537 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:52:18.537 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.9446ms
2024-05-01 12:52:18.538 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:52:18.538 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.538 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.538 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:52:18.544 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:52:18.546 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:52:18.547 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.5674ms
2024-05-01 12:52:18.796 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:52:18.798 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.798 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:52:18.799 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.799 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.201ms
2024-05-01 12:52:18.799 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 2.5801ms
2024-05-01 12:52:18.805 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:52:18.805 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.806 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.6972ms
2024-05-01 12:52:18.806 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:52:18.807 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.807 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.807 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:52:18.807 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:52:18.807 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.9143ms
2024-05-01 12:52:18.807 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:52:18.809 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.809 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.811 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:52:18.811 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:52:18.812 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 4.6727ms
2024-05-01 12:52:18.813 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:52:18.814 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.814 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:18.815 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:52:18.824 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:52:18.829 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:52:18.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 16.4089ms
2024-05-01 12:52:19.119 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=71TCwfjyxavyGYe7m581tA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:52:19.119 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:19.119 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:19.119 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:52:19.157 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:52:32.944 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:52:32.944 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=71TCwfjyxavyGYe7m581tA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 13825.4143ms
2024-05-01 12:52:33.417 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:52:33.417 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.417 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2417ms
2024-05-01 12:52:33.418 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:52:33.418 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.418 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.177ms
2024-05-01 12:52:33.423 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:52:33.424 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.424 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.424 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:52:33.430 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:52:33.433 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:52:33.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.6376ms
2024-05-01 12:52:33.434 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:52:33.434 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.434 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.434 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:52:33.441 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:52:33.443 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:52:33.443 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.4841ms
2024-05-01 12:52:33.679 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:52:33.679 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.679 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.6659ms
2024-05-01 12:52:33.679 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:52:33.680 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.680 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.4691ms
2024-05-01 12:52:33.680 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:52:33.680 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.680 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.459ms
2024-05-01 12:52:33.692 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:52:33.692 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:52:33.692 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.692 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.692 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:52:33.692 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:52:33.692 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.4707ms
2024-05-01 12:52:33.693 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.693 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.693 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:52:33.693 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:52:33.693 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.9783ms
2024-05-01 12:52:33.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:52:33.698 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.698 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.699 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:52:33.722 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:52:33.727 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:52:33.727 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 29.6501ms
2024-05-01 12:52:33.759 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=ni66nHXpVQJVWgWdA85M4Q&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:52:33.760 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.760 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:52:33.760 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:52:34.084 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:52:59.939 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:52:59.939 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=ni66nHXpVQJVWgWdA85M4Q&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 26179.7962ms
2024-05-01 12:53:00.455 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:00.455 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.455 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.246ms
2024-05-01 12:53:00.456 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:00.456 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.456 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2238ms
2024-05-01 12:53:00.459 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:00.460 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.460 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.460 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:00.466 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:53:00.469 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:00.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 9.6307ms
2024-05-01 12:53:00.470 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:00.470 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.471 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.471 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:00.476 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:53:00.478 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:00.479 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.7369ms
2024-05-01 12:53:00.706 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:53:00.706 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:53:00.707 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.707 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.707 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.4433ms
2024-05-01 12:53:00.707 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 1.2343ms
2024-05-01 12:53:00.707 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:00.707 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.707 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.1563ms
2024-05-01 12:53:00.711 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:53:00.712 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:53:00.712 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.712 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.712 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:53:00.712 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:53:00.712 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.4494ms
2024-05-01 12:53:00.712 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.713 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.714 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:53:00.714 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:53:00.715 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 3.3142ms
2024-05-01 12:53:00.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:00.719 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.719 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:00.719 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:00.725 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:53:00.729 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:00.729 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 10.5178ms
2024-05-01 12:53:01.086 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=1dVLTuVucITrcSyRFA09YA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:53:01.087 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:01.087 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:01.087 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:53:01.189 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:53:14.965 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:53:14.965 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=1dVLTuVucITrcSyRFA09YA&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 13879.0834ms
2024-05-01 12:53:14.965 +07:00 [INF] Connection id "0HN39K1G7KLAC", Request id "0HN39K1G7KLAC:0000017B": the application completed without reading the entire request body.
2024-05-01 12:53:14.975 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:14.975 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:14.975 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2915ms
2024-05-01 12:53:14.979 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:14.979 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:14.979 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:14.979 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:14.986 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:53:14.990 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:14.990 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.2938ms
2024-05-01 12:53:15.095 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:53:15.095 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:53:15.096 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.096 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.096 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3119ms
2024-05-01 12:53:15.096 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2377ms
2024-05-01 12:53:15.097 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:15.097 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.098 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.4279ms
2024-05-01 12:53:15.100 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:53:15.101 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.102 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.102 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:53:15.102 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:53:15.102 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.102 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:53:15.102 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.102 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:53:15.102 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.527ms
2024-05-01 12:53:15.102 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:53:15.102 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.4012ms
2024-05-01 12:53:15.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:15.106 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.106 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.106 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:15.110 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=zw-i8Tue5EDJkIuShTMOgQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:53:15.111 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.112 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:15.112 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:53:15.113 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:53:15.116 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:15.117 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 11.498ms
2024-05-01 12:53:15.130 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:53:29.935 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:53:29.935 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=zw-i8Tue5EDJkIuShTMOgQ&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 14825.0924ms
2024-05-01 12:53:30.508 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:30.508 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.508 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2967ms
2024-05-01 12:53:30.511 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:30.511 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.511 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.3097ms
2024-05-01 12:53:30.513 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:30.513 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.513 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.513 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:30.520 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:53:30.523 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:30.523 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.2442ms
2024-05-01 12:53:30.524 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:30.524 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.524 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.524 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:30.530 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:53:30.535 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:30.535 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 11.2009ms
2024-05-01 12:53:30.811 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:53:30.812 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.812 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.282ms
2024-05-01 12:53:30.813 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:53:30.813 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.813 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2995ms
2024-05-01 12:53:30.814 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:30.814 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.814 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.2268ms
2024-05-01 12:53:30.817 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:53:30.818 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.818 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.818 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:53:30.818 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:53:30.818 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5327ms
2024-05-01 12:53:30.819 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:53:30.819 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:30.819 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.819 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.819 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.819 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:30.819 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:30.819 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:53:30.820 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:53:30.820 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.2869ms
2024-05-01 12:53:30.827 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:53:30.830 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:30.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 10.7316ms
2024-05-01 12:53:31.112 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=EdeqDMZr1tfeJR6I8qbyNg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:53:31.113 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:31.113 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:31.113 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:53:31.198 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:53:46.880 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:46.880 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:46.880 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 204 null null 0.4965ms
2024-05-01 12:53:46.892 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:46.892 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:46.893 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:46.893 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:46.903 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:53:46.909 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:53:46.910 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=EdeqDMZr1tfeJR6I8qbyNg&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 15797.1701ms
2024-05-01 12:53:46.913 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:46.914 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 499 null application/json; charset=utf-8 21.9484ms
2024-05-01 12:53:47.330 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:47.330 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.330 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.2258ms
2024-05-01 12:53:47.330 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:47.331 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.332 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 2.3986ms
2024-05-01 12:53:47.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:47.339 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.339 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.339 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:47.347 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:53:47.350 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:47.350 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.9483ms
2024-05-01 12:53:47.352 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:53:47.353 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.353 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.353 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:47.361 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:53:47.365 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:53:47.365 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 13.1886ms
2024-05-01 12:53:47.477 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:53:47.477 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.477 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.2333ms
2024-05-01 12:53:47.479 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null null
2024-05-01 12:53:47.479 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.479 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 204 null null 0.3411ms
2024-05-01 12:53:47.480 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - null null
2024-05-01 12:53:47.480 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.480 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.480 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:47.487 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:53:47.488 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - null 0
2024-05-01 12:53:47.488 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.488 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.488 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.488 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:53:47.488 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.488 +07:00 [INF] Executing endpoint '/chat/negotiate'
2024-05-01 12:53:47.488 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:53:47.488 +07:00 [INF] Executed endpoint '/chat/negotiate'
2024-05-01 12:53:47.488 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 0.5743ms
2024-05-01 12:53:47.488 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/chat/negotiate?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&negotiateVersion=1 - 200 316 application/json 1.0715ms
2024-05-01 12:53:47.490 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_id_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Title", t."Date", t."Description", t."Category", t."Venue", t."City", t."isCanceled", t."isPrivate", t0."DisplayName", t0."Username", t0."Bio", t0."Image", t0."Following", t0."FollowersCount", t0."FollowingCount", t0."AppUserId", t0."ActivityId", t0."Id", t.c
FROM (
    SELECT a."Id", a."Title", a."Date", a."Description", a."Category", a."Venue", a."City", a."isCanceled", a."isPrivate", (
        SELECT a1."Email"
        FROM "ActivityAttendees" AS a0
        INNER JOIN "AspNetUsers" AS a1 ON a0."AppUserId" = a1."Id"
        WHERE a."Id" = a0."ActivityId" AND a0."isHost"
        LIMIT 1) AS c
    FROM "Activities" AS a
    WHERE a."Id" = @__request_id_1
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT a3."DisplayName", a3."UserName" AS "Username", a3."Bio", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a3."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", EXISTS (
        SELECT 1
        FROM "UserFollowings" AS u
        INNER JOIN "AspNetUsers" AS a4 ON u."ObserverId" = a4."Id"
        WHERE a3."Id" = u."TargetId" AND a4."UserName" IS NULL) AS "Following", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u0
        WHERE a3."Id" = u0."TargetId") AS "FollowersCount", (
        SELECT count(*)::int
        FROM "UserFollowings" AS u1
        WHERE a3."Id" = u1."ObserverId") AS "FollowingCount", a2."AppUserId", a2."ActivityId", a3."Id"
    FROM "ActivityAttendees" AS a2
    INNER JOIN "AspNetUsers" AS a3 ON a2."AppUserId" = a3."Id"
) AS t0 ON t."Id" = t0."ActivityId"
ORDER BY t."Id", t0."AppUserId", t0."ActivityId"
2024-05-01 12:53:47.497 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Activity/get/{id} => ActivityById'
2024-05-01 12:53:47.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Activity/get/34f00482-a601-40d3-8cb4-b3b7c3bbc65d - 200 null application/json; charset=utf-8 18.0715ms
2024-05-01 12:53:47.620 +07:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=0R6rxtrxFofnQWbLdsRwIw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - null null
2024-05-01 12:53:47.620 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.620 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:53:47.620 +07:00 [INF] Executing endpoint '/chat'
2024-05-01 12:53:47.654 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@__request_ActivityId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Body", c."CommentImage", c."CreatedAt", a."Id", c0."Id", a0."Id", t.id, t."Body", t."CommentImage", t."CreatedAt", t."DisplayName", t."Username", t."Image", t."commendParentID", t."Id0", t."Id1", a0."DisplayName", a0."UserName", (
    SELECT p0."fileBase64"
    FROM "Photos" AS p0
    WHERE a0."Id" IS NOT NULL AND a0."Id" = p0."AppUserId" AND p0."isMain"
    LIMIT 1), c0."Id"::text
FROM "Comments" AS c
LEFT JOIN "Activities" AS a ON c."ActivityId" = a."Id"
LEFT JOIN "Comments" AS c0 ON c."CommentParentId" = c0."Id"
LEFT JOIN "AspNetUsers" AS a0 ON c."AuthorId" = a0."Id"
LEFT JOIN (
    SELECT c1."Id" AS id, c1."Body", c1."CommentImage", c1."CreatedAt", a1."DisplayName", a1."UserName" AS "Username", (
        SELECT p."fileBase64"
        FROM "Photos" AS p
        WHERE a1."Id" IS NOT NULL AND a1."Id" = p."AppUserId" AND p."isMain"
        LIMIT 1) AS "Image", c2."Id"::text AS "commendParentID", a1."Id" AS "Id0", c2."Id" AS "Id1", c1."CommentParentId"
    FROM "Comments" AS c1
    LEFT JOIN "AspNetUsers" AS a1 ON c1."AuthorId" = a1."Id"
    LEFT JOIN "Comments" AS c2 ON c1."CommentParentId" = c2."Id"
) AS t ON c."Id" = t."CommentParentId"
WHERE a."Id" = @__request_ActivityId_0 AND c0."Id" IS NULL
ORDER BY c."CreatedAt" DESC, c."Id", a."Id", c0."Id", a0."Id", t.id, t."Id0"
2024-05-01 12:54:49.835 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:54:49.835 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 12:54:49.835 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:49.835 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:49.835 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.3196ms
2024-05-01 12:54:49.835 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.416ms
2024-05-01 12:54:49.839 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:54:49.839 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:49.839 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:49.839 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:54:49.856 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:54:49.859 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:54:49.859 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 20.7326ms
2024-05-01 12:54:49.860 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:54:49.861 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:49.861 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:49.861 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:54:49.867 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:54:49.871 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:54:49.871 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 10.8545ms
2024-05-01 12:54:50.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:54:50.208 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:50.208 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:50.208 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:54:50.213 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:54:50.215 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:54:50.216 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 7.8053ms
2024-05-01 12:54:50.216 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 12:54:50.217 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:50.217 +07:00 [INF] CORS policy execution successful.
2024-05-01 12:54:50.217 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:54:50.223 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 12:54:50.225 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 12:54:50.225 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.8423ms
2024-05-01 12:54:50.585 +07:00 [INF] Executed endpoint '/chat'
2024-05-01 12:54:50.585 +07:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/chat?activityId=34f00482-a601-40d3-8cb4-b3b7c3bbc65d&id=0R6rxtrxFofnQWbLdsRwIw&access_token=CfDJ8GRAEh9XdVdBn2GxhDzZVNh3SVsDB22FIRUR_IxsNvbFErpkfwaFirDejOE796ztBzwU6-QUsoh8D2jgQ9AEwUg7AD7sfhOWaYxLX9IeWa1feKpB8KpJbIjVlqsG2CB3T7nEMxkwfy31pbdBopsYfWBeR-yxJUVgemgfJ_e1UlnLAdZUXTrBqXmI2p5KunpaWuG37x5LjNoP9yu9AEhNnYMYge-2rjq38mtYKSznyb4s6UyT0SAdoSQvE3A7iFNVcvWHZf1uyEL6BnOUzNdxGx0bHIRHGTs2SiXmHlcOKdeOmWDH8zZOiPRn99yOF17YptuePB4ARK9aGet38MStIVBvVtR7XMAo1Ra2NGJBPFMy_iPX2caomFLif9EsEZ6bWx7ggYun0aS6SmtZsyvcqRRtTx9KxAhX71359mXQ-WATotdWAVmCAX4iZd2LQrqThDnDro17Pjar6PW3ClOYniAqE7gDAgAmYR7biJhRdctt4j4c3rDHxA_TPynGPPyK0MTX9Xj9EmcBpeAEq_J0qpC4Yaq_XeFiCk4Wr8Woob24_hK7EEvqyWGjndAZQfg4FkLwe3rF_26fVy2JQwgFrqH1kVje3LQn8ebPzdLzrhgpCieQ7tCw3CmEnFJoljwHOiFPIW7O0WSglP-yYU4HCRVgyNMqHJ711EYLW1RBO0WebbylM1nAsI_asUV2Oz-wYASVFuCIGlgF_2ua1OnGfHk - 200 null null 62964.7878ms
2024-05-01 13:01:05.603 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 13:01:05.603 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - null null
2024-05-01 13:01:05.603 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:05.603 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:05.603 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.3834ms
2024-05-01 13:01:05.603 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/UserEntity - 204 null null 0.381ms
2024-05-01 13:01:05.609 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 13:01:05.609 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:05.609 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:05.609 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 13:01:05.627 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 13:01:05.629 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 13:01:05.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 20.7439ms
2024-05-01 13:01:05.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 13:01:05.630 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:05.630 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:05.630 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 13:01:05.637 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 13:01:05.639 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 13:01:05.639 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 8.9903ms
2024-05-01 13:01:07.709 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 13:01:07.710 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:07.711 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:07.711 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 13:01:07.719 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 13:01:07.723 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 13:01:07.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 13.8622ms
2024-05-01 13:01:07.724 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/UserEntity - null null
2024-05-01 13:01:07.725 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:07.725 +07:00 [INF] CORS policy execution successful.
2024-05-01 13:01:07.725 +07:00 [INF] Executing endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 13:01:07.734 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@___user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode", p.id, p."AppUserId", p."FileName", p."fileBase64", p."isMain"
FROM (
    SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
    FROM "AspNetUsers" AS a
    WHERE a."Id" = @___user_Id_0
    LIMIT 1
) AS t
LEFT JOIN "Photos" AS p ON t."Id" = p."AppUserId"
ORDER BY t."Id"
2024-05-01 13:01:07.736 +07:00 [INF] Executed endpoint 'HTTP: GET /api/UserEntity/ => GetUser'
2024-05-01 13:01:07.737 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/UserEntity - 200 null application/json; charset=utf-8 12.234ms
2024-05-01 13:02:44.428 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:02:45.080 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:02:45.398 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:02:45.417 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:02:45.442 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:02:45.454 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:02:45.456 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:02:45.466 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:02:45.617 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:02:47.262 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:02:47.759 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:02:48.007 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:02:48.025 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:02:48.047 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:02:48.059 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:02:48.061 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:02:48.070 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:02:48.176 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:02:48.412 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:02:48.413 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:02:48.414 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:02:48.414 +07:00 [INF] Hosting environment: Development
2024-05-01 13:02:48.414 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:02:48.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:02:48.574 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:02:48.626 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 156.4667ms
2024-05-01 13:02:48.649 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:02:48.658 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.4156ms
2024-05-01 13:03:15.219 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:03:15.899 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:03:16.241 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:03:16.264 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:03:16.285 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:03:16.295 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:03:16.297 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:03:16.304 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:03:16.453 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:03:18.083 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:03:18.569 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:03:18.828 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:03:18.845 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:03:18.869 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:03:18.885 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:03:18.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:03:18.895 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:03:19.017 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:03:19.228 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:03:19.229 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:03:19.230 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:03:19.230 +07:00 [INF] Hosting environment: Development
2024-05-01 13:03:19.230 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:03:19.288 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:03:19.467 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:03:19.519 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 231.6229ms
2024-05-01 13:03:19.542 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:03:19.550 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.0141ms
2024-05-01 13:21:14.624 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:21:14.634 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 9.2099ms
2024-05-01 13:21:14.661 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:21:14.662 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 1.19ms
2024-05-01 13:22:16.795 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:22:16.800 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 4.6247ms
2024-05-01 13:22:16.827 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/swagger-ui.css - null null
2024-05-01 13:22:16.827 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.css - null null
2024-05-01 13:22:16.827 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/swagger-ui-bundle.js - null null
2024-05-01 13:22:16.827 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/swagger-ui-standalone-preset.js - null null
2024-05-01 13:22:16.828 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:22:16.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 1.155ms
2024-05-01 13:22:16.835 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2024-05-01 13:22:16.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.css - 200 218 text/css 8.3878ms
2024-05-01 13:22:16.843 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-01 13:22:16.845 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-01 13:22:16.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/swagger-ui-standalone-preset.js - 200 230642 text/javascript 18.2164ms
2024-05-01 13:22:16.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/swagger-ui.css - 200 151213 text/css 18.3621ms
2024-05-01 13:22:16.868 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-01 13:22:16.869 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/swagger-ui-bundle.js - 200 1385018 text/javascript 41.4466ms
2024-05-01 13:22:16.953 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:22:16.969 +07:00 [INF] Sending file. Request path: '/api/specification.json'. Physical path: 'C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\wwwroot\api\specification.json'
2024-05-01 13:22:16.969 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/favicon-32x32.png - null null
2024-05-01 13:22:16.969 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 200 42453 application/json 15.7708ms
2024-05-01 13:22:16.970 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-01 13:22:16.970 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/favicon-32x32.png - 200 628 image/png 1.1957ms
2024-05-01 13:22:25.911 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:22:25.912 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 1.2349ms
2024-05-01 13:22:25.958 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:22:25.959 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 0.563ms
2024-05-01 13:23:00.245 +07:00 [INF] Application is shutting down...
2024-05-01 13:23:13.936 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:23:14.482 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:23:14.780 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:23:14.799 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:23:14.821 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:23:14.834 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:23:14.835 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:23:14.844 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:23:14.996 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:23:15.190 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:23:15.202 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:24:35.771 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:24:36.396 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:24:36.763 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:24:36.784 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:24:36.812 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:24:36.829 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:24:36.831 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:24:36.846 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:24:37.016 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:24:37.249 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:24:37.260 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:25:21.979 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:25:22.558 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:25:22.869 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:25:22.893 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:25:22.913 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:25:22.960 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:25:22.962 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:25:22.976 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:25:23.146 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:25:23.334 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:25:23.345 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:26:47.669 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:26:48.186 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:26:48.534 +07:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:26:48.551 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:26:48.569 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:26:48.580 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:26:48.582 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:26:48.593 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:26:48.773 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:26:48.992 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:26:49.003 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:28:39.252 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:28:39.737 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:28:40.002 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:28:40.021 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:28:40.040 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:28:40.054 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:28:40.056 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:28:40.069 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:28:40.220 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:28:40.389 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:28:40.396 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:29:07.721 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:29:08.370 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:29:08.918 +07:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:29:08.941 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:29:08.975 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:29:08.991 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:29:08.993 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:29:09.004 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:29:09.190 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:29:09.449 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:29:09.458 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:29:31.777 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:29:32.480 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:29:32.924 +07:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:29:32.944 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:29:32.965 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:29:32.975 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:29:32.977 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:29:32.985 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:29:33.131 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:29:33.291 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:29:33.298 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:30:32.966 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:30:33.760 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:30:34.218 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:34.246 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:30:34.275 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:34.290 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:34.292 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:30:34.306 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:30:34.545 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:30:34.987 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:30:34.998 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:30:41.197 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:30:41.951 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:30:42.263 +07:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:42.279 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:30:42.298 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:42.308 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:42.310 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:30:42.320 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:30:42.483 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:30:44.434 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:30:44.993 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:30:45.284 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:45.307 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:30:45.372 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:45.392 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:30:45.393 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:30:45.406 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:30:45.538 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:30:45.857 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:30:45.857 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:30:45.858 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:30:45.859 +07:00 [INF] Hosting environment: Development
2024-05-01 13:30:45.859 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:30:46.083 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2024-05-01 13:30:46.251 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:30:46.262 +07:00 [INF] Executing endpoint '/'
2024-05-01 13:30:46.263 +07:00 [INF] Executing RedirectResult, redirecting to /api.
2024-05-01 13:30:46.263 +07:00 [INF] Executed endpoint '/'
2024-05-01 13:30:46.265 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 183.1886ms
2024-05-01 13:30:46.273 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api - null null
2024-05-01 13:30:46.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api - 302 0 null 8.7843ms
2024-05-01 13:30:46.287 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:30:46.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 59.9226ms
2024-05-01 13:30:46.367 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/swagger-ui.css - null null
2024-05-01 13:30:46.367 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.css - null null
2024-05-01 13:30:46.367 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/swagger-ui-bundle.js - null null
2024-05-01 13:30:46.373 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/swagger-ui-standalone-preset.js - null null
2024-05-01 13:30:46.375 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:30:46.381 +07:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2024-05-01 13:30:46.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.css - 200 218 text/css 14.1211ms
2024-05-01 13:30:46.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 21.5792ms
2024-05-01 13:30:46.398 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-01 13:30:46.398 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-01 13:30:46.400 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/swagger-ui.css - 200 151213 text/css 32.7962ms
2024-05-01 13:30:46.400 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/swagger-ui-standalone-preset.js - 200 230642 text/javascript 27.1368ms
2024-05-01 13:30:46.409 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-01 13:30:46.412 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/swagger-ui-bundle.js - 200 1385018 text/javascript 44.5157ms
2024-05-01 13:30:46.802 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:30:46.846 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/favicon-32x32.png - null null
2024-05-01 13:30:46.851 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-01 13:30:46.851 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/favicon-32x32.png - 200 628 image/png 5.0663ms
2024-05-01 13:30:46.852 +07:00 [INF] Sending file. Request path: '/api/specification.json'. Physical path: 'C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\wwwroot\api\specification.json'
2024-05-01 13:30:46.852 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 200 55133 application/json 50.125ms
2024-05-01 13:31:17.985 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/create - application/json 26
2024-05-01 13:31:17.988 +07:00 [INF] CORS policy execution failed.
2024-05-01 13:31:17.988 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 13:31:17.989 +07:00 [INF] CORS policy execution failed.
2024-05-01 13:31:17.989 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 13:31:17.989 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/create => CreateConversations'
2024-05-01 13:31:18.165 +07:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
2024-05-01 13:31:18.188 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 13:31:18.204 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request CreateConversationsCommand {"createdAt":"2024-05-01T06:31:11.1520000Z","$type":"CreateConversationsCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 13:31:18.354 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
2024-05-01 13:31:18.364 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 13:31:18.377 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request CreateConversationsCommand {"createdAt":"2024-05-01T06:31:11.1520000Z","$type":"CreateConversationsCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 13:31:18.501 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
2024-05-01 13:31:18.505 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 13:31:18.515 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request CreateConversationsCommand {"createdAt":"2024-05-01T06:31:11.1520000Z","$type":"CreateConversationsCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 13:31:18.631 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p6, @p7);
2024-05-01 13:31:18.635 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 13:31:18.643 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request CreateConversationsCommand {"createdAt":"2024-05-01T06:31:11.1520000Z","$type":"CreateConversationsCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 13:31:18.656 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/create => CreateConversations'
2024-05-01 13:31:18.659 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.CreateConversations(ISender sender, DateTime createdAt) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 26
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 13:31:18.691 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/create - 500 null text/plain 705.524ms
2024-05-01 13:34:16.502 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:34:17.234 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:34:17.802 +07:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:34:17.824 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:34:17.846 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:34:17.860 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:34:17.862 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:34:17.873 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:34:18.023 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:34:19.923 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:34:20.386 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:34:20.644 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:34:20.661 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:34:20.683 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:34:20.697 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:34:20.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:34:20.705 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:34:20.814 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:34:21.045 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:34:21.045 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:34:21.047 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:34:21.047 +07:00 [INF] Hosting environment: Development
2024-05-01 13:34:21.047 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:34:43.273 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:34:43.400 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:34:43.451 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 178.0021ms
2024-05-01 13:34:43.483 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:34:43.495 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 11.1777ms
2024-05-01 13:34:43.825 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:34:43.855 +07:00 [INF] Sending file. Request path: '/api/specification.json'. Physical path: 'C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\wwwroot\api\specification.json'
2024-05-01 13:34:43.856 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 200 55349 application/json 31.0239ms
2024-05-01 13:34:49.208 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/create - application/json 45
2024-05-01 13:34:49.212 +07:00 [INF] CORS policy execution failed.
2024-05-01 13:34:49.213 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 13:34:49.215 +07:00 [INF] CORS policy execution failed.
2024-05-01 13:34:49.215 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 13:34:49.217 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/create => CreateConversations'
2024-05-01 13:34:49.368 +07:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
2024-05-01 13:34:49.382 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 13:34:49.395 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request CreateConversationsCommand {"ConversationsDTO":{"createdAt":"2024-05-01T06:34:47.6480000Z","$type":"ConversationsDTO"},"$type":"CreateConversationsCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 13:34:49.535 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
2024-05-01 13:34:49.546 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 13:34:49.559 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request CreateConversationsCommand {"ConversationsDTO":{"createdAt":"2024-05-01T06:34:47.6480000Z","$type":"ConversationsDTO"},"$type":"CreateConversationsCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 13:34:49.669 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
2024-05-01 13:34:49.674 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 13:34:49.683 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request CreateConversationsCommand {"ConversationsDTO":{"createdAt":"2024-05-01T06:34:47.6480000Z","$type":"ConversationsDTO"},"$type":"CreateConversationsCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 13:34:49.798 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p6, @p7);
2024-05-01 13:34:49.802 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 13:34:49.810 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request CreateConversationsCommand {"ConversationsDTO":{"createdAt":"2024-05-01T06:34:47.6480000Z","$type":"ConversationsDTO"},"$type":"CreateConversationsCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 13:34:49.824 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/create => CreateConversations'
2024-05-01 13:34:49.825 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Conversations" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Conversations" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.CreateConversations(ISender sender, ConversationsDTO conversationsDTO) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 27
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 13:34:49.853 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/create - 500 null text/plain 645.0948ms
2024-05-01 13:36:26.560 +07:00 [INF] Application is shutting down...
2024-05-01 13:36:41.225 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:36:41.777 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:36:42.086 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:36:42.107 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:36:42.132 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:36:42.145 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:36:42.147 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:36:42.155 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:36:42.341 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:36:44.232 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:36:44.517 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:36:44.543 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:36:44.576 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:36:44.600 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:36:44.608 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:36:44.621 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:37:34.084 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:37:34.676 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:37:35.024 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:37:35.044 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:37:35.069 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:37:35.084 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:37:35.086 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:37:35.093 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:37:35.231 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:37:36.951 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:37:37.120 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:37:53.052 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:37:53.583 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:37:53.832 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:37:53.846 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:37:53.869 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:37:53.883 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:37:53.884 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:37:53.891 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:37:54.003 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:37:55.569 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:37:55.743 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:41:42.891 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:41:43.441 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:41:43.686 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:41:43.701 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:41:43.724 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:41:43.739 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:41:43.740 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:41:43.747 +07:00 [INF] Applying migration '20240501063756_addConversations'.
2024-05-01 13:41:43.783 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240501063756_addConversations', '8.0.2');
2024-05-01 13:41:43.898 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:41:45.490 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:41:45.662 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:41:46.125 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:41:46.142 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:42:17.814 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:42:18.300 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:42:18.546 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:18.561 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:42:18.584 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:18.599 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:18.601 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:42:18.608 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:42:18.716 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:42:20.555 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:42:20.722 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:42:32.213 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:42:32.699 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:42:32.953 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:32.969 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:42:32.991 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:33.004 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:33.006 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:42:33.012 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:42:33.125 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:42:34.680 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:42:34.868 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:42:35.311 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:35.335 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:42:53.203 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:42:53.668 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:42:53.938 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:53.952 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:42:53.973 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:53.987 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:42:53.989 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:42:53.996 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:42:54.105 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:42:55.648 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:42:55.824 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:43:19.593 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:43:20.093 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:43:20.338 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:20.353 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:43:20.375 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:20.391 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:20.392 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:43:20.398 +07:00 [INF] Applying migration '20240501064256_addConversations'.
2024-05-01 13:43:20.476 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Conversations" (
    "Id" uuid NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Conversations" PRIMARY KEY ("Id")
);
2024-05-01 13:43:20.502 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ConversationsParticipants" (
    "Id" uuid NOT NULL,
    "UserId" text,
    "ConversationId" uuid NOT NULL,
    CONSTRAINT "PK_ConversationsParticipants" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ConversationsParticipants_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_ConversationsParticipants_Conversations_ConversationId" FOREIGN KEY ("ConversationId") REFERENCES "Conversations" ("Id") ON DELETE CASCADE
);
2024-05-01 13:43:20.524 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Messages" (
    "Id" uuid NOT NULL,
    "ConversationsId" uuid NOT NULL,
    "SenderId" text,
    "Body" text,
    "CraetedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Messages" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Messages_AspNetUsers_SenderId" FOREIGN KEY ("SenderId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Messages_Conversations_ConversationsId" FOREIGN KEY ("ConversationsId") REFERENCES "Conversations" ("Id") ON DELETE CASCADE
);
2024-05-01 13:43:20.536 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ConversationsParticipants_ConversationId" ON "ConversationsParticipants" ("ConversationId");
2024-05-01 13:43:20.547 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_ConversationsParticipants_UserId" ON "ConversationsParticipants" ("UserId");
2024-05-01 13:43:20.559 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Messages_ConversationsId" ON "Messages" ("ConversationsId");
2024-05-01 13:43:20.570 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Messages_SenderId" ON "Messages" ("SenderId");
2024-05-01 13:43:20.572 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240501064256_addConversations', '8.0.2');
2024-05-01 13:43:20.690 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:43:22.271 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:43:22.538 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:22.555 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:43:22.580 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:22.596 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:22.601 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:43:22.610 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:43:57.610 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:43:58.090 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:43:58.364 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:58.380 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:43:58.403 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:58.418 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:43:58.419 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:43:58.426 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:43:58.534 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:44:00.062 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:44:00.513 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:44:00.763 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:44:00.781 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:44:00.808 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:44:00.822 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:44:00.825 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:44:00.833 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:44:00.949 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:44:01.172 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:44:01.173 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:44:01.174 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:44:01.174 +07:00 [INF] Hosting environment: Development
2024-05-01 13:44:01.174 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:44:01.399 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2024-05-01 13:44:01.534 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:44:01.546 +07:00 [INF] Executing endpoint '/'
2024-05-01 13:44:01.547 +07:00 [INF] Executing RedirectResult, redirecting to /api.
2024-05-01 13:44:01.548 +07:00 [INF] Executed endpoint '/'
2024-05-01 13:44:01.550 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 151.61ms
2024-05-01 13:44:01.561 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api - null null
2024-05-01 13:44:01.568 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api - 302 0 null 7.2642ms
2024-05-01 13:44:01.595 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:44:01.689 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 93.4645ms
2024-05-01 13:44:01.722 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:44:01.730 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.4272ms
2024-05-01 13:44:01.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:44:01.972 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 13:44:01.973 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 8.9318ms
2024-05-01 13:44:13.552 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/create - application/json 45
2024-05-01 13:44:13.555 +07:00 [INF] CORS policy execution failed.
2024-05-01 13:44:13.555 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 13:44:13.556 +07:00 [INF] CORS policy execution failed.
2024-05-01 13:44:13.556 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 13:44:13.557 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/create => CreateConversations'
2024-05-01 13:44:13.711 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
2024-05-01 13:44:13.721 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/create => CreateConversations'
2024-05-01 13:44:13.726 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/create - 200 null application/json; charset=utf-8 174.0052ms
2024-05-01 13:45:37.035 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:45:37.521 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:45:37.782 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:45:37.797 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:45:37.820 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:45:37.835 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:45:37.837 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:45:37.843 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:45:37.953 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:45:38.087 +07:00 [FTL] Application startup exception
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-05-01 13:45:38.094 +07:00 [ERR] Hosting failed to start
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
sender              | Services (Inferred)
query               | Body (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-05-01 13:46:14.644 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:46:15.139 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:46:15.409 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:46:15.424 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:46:15.448 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:46:15.463 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:46:15.464 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:46:15.472 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:46:15.587 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:46:17.172 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:46:17.686 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:46:17.948 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:46:17.966 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:46:17.993 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:46:18.012 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:46:18.015 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:46:18.023 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:46:18.146 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:46:18.377 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:46:18.377 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:46:18.378 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:46:18.379 +07:00 [INF] Hosting environment: Development
2024-05-01 13:46:18.379 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:46:18.563 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:46:18.689 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:46:18.748 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 186.7313ms
2024-05-01 13:46:18.782 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:46:18.792 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 9.608ms
2024-05-01 13:46:19.163 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:46:19.196 +07:00 [INF] Sending file. Request path: '/api/specification.json'. Physical path: 'C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\wwwroot\api\specification.json'
2024-05-01 13:46:19.196 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 200 54942 application/json 33.0256ms
2024-05-01 13:46:23.000 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:46:23.006 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 6.395ms
2024-05-01 13:46:23.035 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:46:23.036 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 0.6664ms
2024-05-01 13:46:23.125 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:46:23.126 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 13:46:23.126 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 1.8941ms
2024-05-01 13:46:27.768 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Conversations - null null
2024-05-01 13:46:27.772 +07:00 [INF] Executing endpoint 'HTTP: GET /api/Conversations/ => GetConversations'
2024-05-01 13:46:27.847 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt"
FROM "Conversations" AS c
2024-05-01 13:46:27.867 +07:00 [INF] Executed endpoint 'HTTP: GET /api/Conversations/ => GetConversations'
2024-05-01 13:46:27.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Conversations - 200 null application/json; charset=utf-8 104.21ms
2024-05-01 13:50:30.524 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:50:31.145 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:50:31.434 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:50:31.452 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:50:31.470 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:50:31.481 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:50:31.483 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:50:31.492 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:50:31.608 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:50:33.084 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:50:33.554 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:50:33.808 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:50:33.825 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:50:33.850 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:50:33.866 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:50:33.868 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:50:33.874 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:50:33.985 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:50:34.247 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:50:34.247 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:50:34.249 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:50:34.249 +07:00 [INF] Hosting environment: Development
2024-05-01 13:50:34.249 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:50:34.332 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:50:34.477 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:50:34.538 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 207.746ms
2024-05-01 13:50:34.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:50:34.602 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.9952ms
2024-05-01 13:50:34.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:50:34.894 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 13:50:34.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 9.0313ms
2024-05-01 13:51:26.803 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:51:27.618 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:51:28.171 +07:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:51:28.207 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:51:28.238 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:51:28.255 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:51:28.258 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:51:28.271 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:51:28.537 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:51:31.034 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:51:31.863 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:51:32.216 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:51:32.237 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:51:32.261 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:51:32.274 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:51:32.277 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:51:32.286 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:51:32.430 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:51:32.781 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:51:32.782 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:51:32.784 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:51:32.784 +07:00 [INF] Hosting environment: Development
2024-05-01 13:51:32.784 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:51:32.872 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:51:33.043 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:51:33.115 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 242.2265ms
2024-05-01 13:51:33.162 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:51:33.175 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 13.1159ms
2024-05-01 13:51:33.931 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:51:33.943 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 13:51:33.944 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 12.9283ms
2024-05-01 13:54:49.566 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:54:50.279 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:54:50.625 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:54:50.644 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:54:50.667 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:54:50.679 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:54:50.681 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:54:50.696 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:54:50.858 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:54:53.205 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 13:54:53.906 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 13:54:54.363 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:54:54.385 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:54:54.414 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:54:54.426 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 13:54:54.428 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 13:54:54.437 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 13:54:54.592 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 13:54:54.884 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 13:54:54.884 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 13:54:54.886 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 13:54:54.886 +07:00 [INF] Hosting environment: Development
2024-05-01 13:54:54.886 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 13:54:54.970 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 13:54:55.106 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 13:54:55.172 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 203.049ms
2024-05-01 13:54:55.201 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 13:54:55.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 10.522ms
2024-05-01 13:54:55.884 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 13:54:55.893 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 13:54:55.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 10.5733ms
2024-05-01 20:05:06.108 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:05:06.821 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:05:07.231 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:05:07.252 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:05:07.276 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:05:07.289 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:05:07.290 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:05:07.300 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:05:07.437 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:05:09.215 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:05:09.659 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:05:09.948 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:05:09.971 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:05:09.998 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:05:10.016 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:05:10.018 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:05:10.030 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:05:10.161 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:05:10.400 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:05:10.400 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:05:10.401 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:05:10.401 +07:00 [INF] Hosting environment: Development
2024-05-01 20:05:10.401 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:05:10.662 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2024-05-01 20:05:10.803 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:05:10.808 +07:00 [INF] Executing endpoint '/'
2024-05-01 20:05:10.809 +07:00 [INF] Executing RedirectResult, redirecting to /api.
2024-05-01 20:05:10.810 +07:00 [INF] Executed endpoint '/'
2024-05-01 20:05:10.812 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 150.5338ms
2024-05-01 20:05:10.823 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api - null null
2024-05-01 20:05:10.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api - 302 0 null 4.6434ms
2024-05-01 20:05:10.836 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:05:10.886 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 49.7712ms
2024-05-01 20:05:10.912 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:05:10.932 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 20.3518ms
2024-05-01 20:05:11.131 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:05:11.180 +07:00 [INF] Sending file. Request path: '/api/specification.json'. Physical path: 'C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\wwwroot\api\specification.json'
2024-05-01 20:05:11.181 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 200 56174 application/json 50.3246ms
2024-05-01 20:05:53.603 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Users/login - application/json 134
2024-05-01 20:05:53.606 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:05:53.606 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:05:53.607 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:05:53.607 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:05:53.607 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Users/login'
2024-05-01 20:05:53.713 +07:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-05-01 20:05:53.967 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ClaimType", a."ClaimValue", a."UserId"
FROM "AspNetUserClaims" AS a
WHERE a."UserId" = @__user_Id_0
2024-05-01 20:05:53.996 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2024-05-01 20:05:54.004 +07:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-05-01 20:05:54.012 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Users/login'
2024-05-01 20:05:54.017 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Users/login - 200 null application/json; charset=utf-8 414.512ms
2024-05-01 20:07:53.361 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:07:53.369 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:07:53.369 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:07:53.370 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:07:53.370 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:07:53.370 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:07:59.961 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:08:01.899 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:08:03.668 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 20:08:03.687 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__currentUser_UserName_0='?', @__toUser_UserName_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0 AND a."UserName" = @__toUser_UserName_1)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:09:25.005 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (84577 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:06:28.6330000Z","$type":"SendMessageCommand"}
2024-05-01 20:09:29.608 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:09:29.608 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 96248.0265ms
2024-05-01 20:09:40.934 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:09:40.937 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:09:40.937 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:09:40.937 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:09:40.937 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:09:40.937 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:09:47.660 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:09:49.845 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:09:52.001 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?', @__toUser_UserName_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0 AND a."UserName" = @__toUser_UserName_1)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:10:46.924 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (65983 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:06:28.6330000Z","$type":"SendMessageCommand"}
2024-05-01 20:10:46.924 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:10:46.924 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 65990.7107ms
2024-05-01 20:12:35.292 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:12:36.001 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:12:36.413 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:12:36.473 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:12:36.501 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:12:36.517 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:12:36.520 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:12:36.535 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:12:36.740 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:12:38.775 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:12:39.273 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:12:39.573 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:12:39.591 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:12:39.612 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:12:39.625 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:12:39.627 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:12:39.637 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:12:39.761 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:12:40.000 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:12:40.000 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:12:40.001 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:12:40.001 +07:00 [INF] Hosting environment: Development
2024-05-01 20:12:40.001 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:12:40.062 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:12:40.177 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:12:40.224 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 162.8535ms
2024-05-01 20:12:40.287 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:12:40.293 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.2491ms
2024-05-01 20:12:40.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:12:40.713 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:12:40.714 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 7.6764ms
2024-05-01 20:13:13.411 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:13:13.423 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:13:13.423 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:13:13.425 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:13:13.425 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:13:13.426 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:13:16.611 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:13:16.669 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:13:16.815 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:13:03.6880000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:13:20.585 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:13:22.164 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:13:23.589 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:13:03.6880000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:13:29.293 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:13:29.990 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:13:43.396 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:13:03.6880000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:13:45.399 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:13:46.028 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:13:48.461 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:13:03.6880000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:13:48.610 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:13:48.612 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:13:48.632 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 35220.462ms
2024-05-01 20:16:09.675 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:16:10.479 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:16:10.835 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:16:10.858 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:16:10.880 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:16:10.893 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:16:10.894 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:16:10.902 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:16:11.049 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:16:12.807 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:16:13.255 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:16:13.507 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:16:13.523 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:16:13.545 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:16:13.559 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:16:13.560 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:16:13.567 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:16:13.699 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:16:13.970 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:16:13.970 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:16:13.972 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:16:13.972 +07:00 [INF] Hosting environment: Development
2024-05-01 20:16:13.972 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:16:14.043 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:16:14.159 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:16:14.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 169.6738ms
2024-05-01 20:16:14.262 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:16:14.269 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.6689ms
2024-05-01 20:16:14.704 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:16:14.710 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:16:14.711 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 7.1378ms
2024-05-01 20:18:08.562 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:18:09.233 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:18:09.668 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:18:09.693 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:18:09.719 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:18:09.736 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:18:09.739 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:18:09.756 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:18:09.918 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:18:12.059 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:18:12.605 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:18:12.875 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:18:12.890 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:18:12.912 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:18:12.927 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:18:12.928 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:18:12.937 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:18:13.043 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:18:13.275 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:18:13.275 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:18:13.276 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:18:13.276 +07:00 [INF] Hosting environment: Development
2024-05-01 20:18:13.276 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:18:13.335 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:18:13.443 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:18:13.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 162.1916ms
2024-05-01 20:18:13.518 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:18:13.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.3979ms
2024-05-01 20:18:13.957 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:18:13.963 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:18:13.964 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 7.1572ms
2024-05-01 20:19:00.712 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:19:01.291 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:19:01.586 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:19:01.606 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:19:01.630 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:19:01.642 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:19:01.643 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:19:01.650 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:19:01.780 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:19:03.526 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:19:04.055 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:19:04.346 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:19:04.363 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:19:04.391 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:19:04.407 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:19:04.409 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:19:04.417 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:19:04.534 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:19:04.749 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:19:04.749 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:19:04.750 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:19:04.750 +07:00 [INF] Hosting environment: Development
2024-05-01 20:19:04.751 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:19:04.810 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:19:04.928 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:19:04.981 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 171.2578ms
2024-05-01 20:19:05.008 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:19:05.015 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.6976ms
2024-05-01 20:19:54.055 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:19:54.070 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:19:54.070 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:19:54.071 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:19:54.071 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:19:54.073 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:19:58.159 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:19:59.785 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:20:00.833 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 20:20:00.846 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?', @__toUser_UserName_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0 AND a."UserName" = @__toUser_UserName_1)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:20:17.600 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?', @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime), @p12='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p2, @p3, @p4);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p5, @p6, @p7);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p8, @p9, @p10, @p11, @p12);
2024-05-01 20:20:24.353 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (25044 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:19:38.3350000Z","$type":"SendMessageCommand"}
2024-05-01 20:20:27.583 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:20:27.593 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 33538.3874ms
2024-05-01 20:20:34.264 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:20:43.243 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:20:43.243 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:20:43.243 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:20:43.243 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:20:43.243 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:21:08.841 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:21:09.592 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:21:10.833 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?', @__toUser_UserName_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0 AND a."UserName" = @__toUser_UserName_1)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:22:00.485 +07:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?', @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime), @p12='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p2, @p3, @p4);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p5, @p6, @p7);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p8, @p9, @p10, @p11, @p12);
2024-05-01 20:22:00.509 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:22:00.520 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:19:38.3350000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:22:00.653 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?', @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Guid), @p22='?', @p23='?' (DbType = Guid), @p24='?' (DbType = DateTime), @p25='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p10, @p11, @p12);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p13, @p14, @p15);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p16, @p17, @p18, @p19, @p20);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p21, @p22, @p23, @p24, @p25);
2024-05-01 20:22:00.656 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:22:00.666 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:19:38.3350000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:22:00.811 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?', @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?', @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime), @p28='?', @p29='?' (DbType = Guid), @p30='?', @p31='?' (DbType = Guid), @p32='?' (DbType = DateTime), @p33='?', @p34='?' (DbType = Guid), @p35='?', @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime), @p38='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p6, @p7, @p8);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p9, @p10, @p11);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p12, @p13, @p14);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p15, @p16, @p17);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p18, @p19, @p20);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p21, @p22, @p23);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p24, @p25, @p26, @p27, @p28);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p29, @p30, @p31, @p32, @p33);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p34, @p35, @p36, @p37, @p38);
2024-05-01 20:22:00.816 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:22:00.830 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:19:38.3350000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:22:00.950 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?', @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?', @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?', @p29='?' (DbType = Guid), @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Guid), @p33='?', @p34='?' (DbType = Guid), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Guid), @p38='?', @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?', @p42='?' (DbType = Guid), @p43='?', @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime), @p46='?', @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime), @p51='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p6, @p7);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p8, @p9, @p10);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p11, @p12, @p13);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p14, @p15, @p16);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p17, @p18, @p19);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p20, @p21, @p22);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p23, @p24, @p25);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p26, @p27, @p28);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p29, @p30, @p31);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p32, @p33, @p34, @p35, @p36);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p37, @p38, @p39, @p40, @p41);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p42, @p43, @p44, @p45, @p46);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p47, @p48, @p49, @p50, @p51);
2024-05-01 20:22:00.956 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:22:00.970 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:19:38.3350000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:22:00.982 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:22:00.983 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:22:00.996 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 86732.244ms
2024-05-01 20:22:57.307 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:22:57.934 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:22:58.282 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:22:58.301 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:22:58.325 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:22:58.338 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:22:58.340 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:22:58.351 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:22:58.535 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:23:00.441 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:23:00.887 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:23:01.147 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:23:01.163 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:23:01.189 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:23:01.205 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:23:01.208 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:23:01.216 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:23:01.329 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:23:01.555 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:23:01.556 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:23:01.557 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:23:01.557 +07:00 [INF] Hosting environment: Development
2024-05-01 20:23:01.557 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:23:01.624 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:23:01.742 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:23:01.796 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 173.8901ms
2024-05-01 20:23:01.853 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:23:01.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.4903ms
2024-05-01 20:23:02.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:23:02.277 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:23:02.281 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 7.4144ms
2024-05-01 20:23:35.808 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:23:35.820 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:23:35.820 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:23:35.821 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:23:35.821 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:23:35.823 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:23:40.149 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:23:41.189 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:23:42.642 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:23:13.2740000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:23:46.265 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:23:46.932 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:23:48.596 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:23:13.2740000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:23:52.701 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:23:53.586 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:24:13.394 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:23:13.2740000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:24:17.173 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:24:17.805 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:24:18.787 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:23:13.2740000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:24:18.928 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:24:18.929 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception was thrown while attempting to evaluate a LINQ query parameter expression. See the inner exception for more information. To show additional information call 'DbContextOptionsBuilder.EnableSensitiveDataLogging'.
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at System.Object.GetType()
   at System.Linq.Expressions.Interpreter.FuncCallInstruction`2.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.Interpreter.Run(InterpretedFrame frame)
   at System.Linq.Expressions.Interpreter.LightLambda.Run(Object[] arguments)
   at System.Dynamic.Utils.DelegateHelpers.FuncThunk[TReturn](Func`2 handler)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.GetValue(Expression expression, String& parameterName)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Evaluate(Expression expression, Boolean generateParameter)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitBinary(BinaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitBinary(BinaryExpression binaryExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitLambda[T](Expression`1 node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Linq.Expressions.ExpressionVisitor.VisitUnary(UnaryExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at System.Dynamic.Utils.ExpressionVisitorUtils.VisitArguments(ExpressionVisitor visitor, IArgumentProvider nodes)
   at System.Linq.Expressions.ExpressionVisitor.VisitMethodCall(MethodCallExpression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.Visit(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression, Boolean clearEvaluatedValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.ParameterExtractingExpressionVisitor.ExtractParameters(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExtractParameters(Expression query, IParameterValues parameterValues, IDiagnosticsLogger`1 logger, Boolean parameterize, Boolean generateContextAccessors)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:24:18.949 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 43141.333ms
2024-05-01 20:24:39.678 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:24:40.329 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:24:40.718 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:24:40.742 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:24:40.766 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:24:40.779 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:24:40.780 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:24:40.792 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:24:40.960 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:24:42.916 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:24:43.474 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:24:43.792 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:24:43.812 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:24:43.834 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:24:43.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:24:43.851 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:24:43.862 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:24:44.002 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:24:44.399 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:24:44.400 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:24:44.401 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:24:44.401 +07:00 [INF] Hosting environment: Development
2024-05-01 20:24:44.401 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:24:44.479 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:24:44.633 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:24:44.692 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 214.7369ms
2024-05-01 20:24:44.741 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:24:44.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 5.6011ms
2024-05-01 20:25:14.082 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:25:14.092 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:25:14.093 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:25:14.094 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:25:14.094 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:25:14.097 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:25:19.665 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:25:20.248 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:25:21.459 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
ORDER BY t."Id"
2024-05-01 20:26:02.388 +07:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-05-01 20:26:02.415 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:26:02.427 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:25:06.1180000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:26:02.579 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime), @p11='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p2, @p3, @p4, @p5, @p6);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p7, @p8, @p9, @p10, @p11);
2024-05-01 20:26:02.583 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:26:02.598 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:25:06.1180000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:26:02.733 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Guid), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p2, @p3, @p4, @p5, @p6);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p7, @p8, @p9, @p10, @p11);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p12, @p13, @p14, @p15, @p16);
2024-05-01 20:26:02.737 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:26:02.751 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:25:06.1180000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:26:02.883 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Guid), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime), @p21='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p2, @p3, @p4, @p5, @p6);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p7, @p8, @p9, @p10, @p11);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p12, @p13, @p14, @p15, @p16);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p17, @p18, @p19, @p20, @p21);
2024-05-01 20:26:02.886 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:26:02.896 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:25:06.1180000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:26:02.903 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:26:02.904 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:26:02.918 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 48835.7016ms
2024-05-01 20:26:33.589 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:26:34.159 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:26:34.530 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:26:34.550 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:26:34.569 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:26:34.582 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:26:34.584 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:26:34.595 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:26:34.728 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:26:36.382 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:26:36.833 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:26:37.108 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:26:37.123 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:26:37.145 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:26:37.157 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:26:37.159 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:26:37.166 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:26:37.282 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:26:37.516 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:26:37.516 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:26:37.517 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:26:37.517 +07:00 [INF] Hosting environment: Development
2024-05-01 20:26:37.517 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:26:37.580 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:26:37.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:26:37.754 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 174.2539ms
2024-05-01 20:26:37.801 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:26:37.808 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.4286ms
2024-05-01 20:26:38.199 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:26:38.205 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:26:38.206 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 6.2507ms
2024-05-01 20:27:08.843 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:27:09.427 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:27:09.810 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:09.831 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:27:09.865 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:09.879 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:09.881 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:27:09.893 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:27:10.073 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:27:32.979 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:27:33.600 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:27:33.902 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:33.920 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:27:33.940 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:33.952 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:33.954 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:27:33.961 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:27:34.222 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:27:35.834 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:27:36.294 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:27:36.560 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:36.586 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:27:36.610 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:36.622 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:27:36.624 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:27:36.632 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:27:36.756 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:27:36.991 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:27:36.991 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:27:36.992 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:27:36.992 +07:00 [INF] Hosting environment: Development
2024-05-01 20:27:36.992 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:27:37.057 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:27:37.182 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:27:37.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 172.9142ms
2024-05-01 20:27:37.254 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:27:37.262 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.4959ms
2024-05-01 20:28:10.410 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:28:10.425 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:28:10.425 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:28:10.426 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:28:10.426 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:28:10.427 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:28:14.013 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:28:15.162 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:28:17.720 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 20:28:17.730 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:29:00.014 +07:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p2, @p3, @p4, @p5, @p6);
2024-05-01 20:29:00.051 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:29:00.216 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:27:51.1300000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:29:04.192 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:29:05.148 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:29:05.684 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:29:09.753 +07:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime), @p11='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p2, @p3, @p4, @p5, @p6);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p7, @p8, @p9, @p10, @p11);
2024-05-01 20:29:09.758 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:29:09.946 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:27:51.1300000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:29:12.444 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:29:12.990 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:29:13.573 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:29:20.764 +07:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Guid), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p2, @p3, @p4, @p5, @p6);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p7, @p8, @p9, @p10, @p11);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p12, @p13, @p14, @p15, @p16);
2024-05-01 20:29:20.768 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:29:20.962 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:27:51.1300000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:29:24.126 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:29:24.705 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:29:25.466 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:29:38.174 +07:00 [ERR] Failed executing DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime), @p11='?', @p12='?' (DbType = Guid), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = DateTime), @p16='?', @p17='?' (DbType = Guid), @p18='?', @p19='?' (DbType = Guid), @p20='?' (DbType = DateTime), @p21='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p2, @p3, @p4, @p5, @p6);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p7, @p8, @p9, @p10, @p11);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p12, @p13, @p14, @p15, @p16);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p17, @p18, @p19, @p20, @p21);
2024-05-01 20:29:38.180 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 20:29:38.358 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:27:51.1300000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:29:38.504 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:29:38.505 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_Conversations"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_Conversations"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Conversations
    ConstraintName: PK_Conversations
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 61
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:29:38.526 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 88116.1599ms
2024-05-01 20:31:13.407 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:31:13.912 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:31:14.196 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:31:14.215 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:31:14.238 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:31:14.248 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:31:14.250 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:31:14.262 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:31:14.441 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:31:16.047 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:31:16.498 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:31:16.758 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:31:16.777 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:31:16.795 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:31:16.805 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:31:16.806 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:31:16.814 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:31:16.916 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:31:17.173 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:31:17.173 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:31:17.175 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:31:17.175 +07:00 [INF] Hosting environment: Development
2024-05-01 20:31:17.175 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:31:17.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:31:17.370 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:31:17.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 169.8361ms
2024-05-01 20:31:17.468 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:31:17.474 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 5.7006ms
2024-05-01 20:31:18.009 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:31:18.016 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:31:18.018 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 8.6508ms
2024-05-01 20:31:51.177 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:31:51.186 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:31:51.186 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:31:51.188 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:31:51.188 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:31:51.190 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:31:54.927 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:31:56.117 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:31:57.084 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 20:31:57.097 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:32:03.646 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 20:32:12.338 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (15033 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:31:43.8010000Z","$type":"SendMessageCommand"}
2024-05-01 20:32:15.907 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:32:15.912 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 24735.479ms
2024-05-01 20:34:49.633 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:34:50.128 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:34:50.400 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:34:50.416 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:34:50.437 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:34:50.452 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:34:50.453 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:34:50.466 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:34:50.617 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:34:52.337 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:34:52.784 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:34:53.030 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:34:53.051 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:34:53.076 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:34:53.091 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:34:53.093 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:34:53.105 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:34:53.230 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:34:53.449 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:34:53.449 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:34:53.450 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:34:53.451 +07:00 [INF] Hosting environment: Development
2024-05-01 20:34:53.451 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:34:53.515 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:34:53.626 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:34:53.678 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 163.6381ms
2024-05-01 20:34:53.724 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:34:53.730 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.0173ms
2024-05-01 20:34:54.141 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:34:54.147 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:34:54.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 7.2721ms
2024-05-01 20:36:13.649 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:36:14.191 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:36:14.488 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:36:14.508 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:36:14.540 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:36:14.559 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:36:14.561 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:36:14.575 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:36:14.751 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:36:16.437 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:36:16.966 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:36:17.226 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:36:17.246 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:36:17.272 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:36:17.286 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:36:17.288 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:36:17.295 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:36:17.433 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:36:17.658 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:36:17.658 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:36:17.660 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:36:17.660 +07:00 [INF] Hosting environment: Development
2024-05-01 20:36:17.660 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:36:17.724 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:36:17.842 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:36:17.893 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 168.8123ms
2024-05-01 20:36:17.918 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:36:17.925 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.1315ms
2024-05-01 20:37:04.593 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:37:05.204 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:37:05.525 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:05.540 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:37:05.563 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:05.575 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:05.576 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:37:05.583 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:37:05.716 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:37:07.155 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:37:07.682 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:37:07.942 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:07.958 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:37:07.982 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:07.996 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:07.998 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:37:08.005 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:37:08.118 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:37:08.338 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:37:08.338 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:37:08.339 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:37:08.340 +07:00 [INF] Hosting environment: Development
2024-05-01 20:37:08.340 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:37:08.403 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:37:08.508 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:37:08.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 151.8084ms
2024-05-01 20:37:08.576 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:37:08.583 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.9552ms
2024-05-01 20:37:39.093 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:37:39.780 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:37:40.090 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:40.106 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:37:40.128 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:40.146 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:37:40.148 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:37:40.159 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:37:40.305 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:38:03.701 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:38:04.188 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:38:04.504 +07:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:04.525 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:38:04.548 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:04.560 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:04.562 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:38:04.573 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:38:04.749 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:38:06.314 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:38:06.815 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:38:07.069 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:07.084 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:38:07.106 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:07.120 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:07.121 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:38:07.128 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:38:07.233 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:38:07.493 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:38:07.494 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:38:07.496 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:38:07.496 +07:00 [INF] Hosting environment: Development
2024-05-01 20:38:07.496 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:38:07.560 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:38:07.667 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:38:07.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 152.7664ms
2024-05-01 20:38:07.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:38:07.743 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 9.1776ms
2024-05-01 20:38:08.070 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:38:08.077 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:38:08.077 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 6.9632ms
2024-05-01 20:38:27.958 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:38:28.511 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:38:28.807 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:28.822 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:38:28.844 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:28.855 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:28.857 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:38:28.865 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:38:28.988 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:38:30.467 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:38:30.891 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:38:31.163 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:31.179 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:38:31.202 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:31.216 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:38:31.218 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:38:31.225 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:38:31.337 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:38:31.549 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:38:31.549 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:38:31.550 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:38:31.551 +07:00 [INF] Hosting environment: Development
2024-05-01 20:38:31.551 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:38:31.608 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:38:31.714 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:38:31.758 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 151.6046ms
2024-05-01 20:38:31.785 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:38:31.792 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.0497ms
2024-05-01 20:40:00.619 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:40:01.171 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:40:01.489 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:40:01.505 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:40:01.522 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:40:01.532 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:40:01.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:40:01.543 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:40:01.688 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:40:03.112 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:40:03.541 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:40:03.784 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:40:03.799 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:40:03.824 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:40:03.840 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:40:03.841 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:40:03.849 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:40:03.967 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:40:04.176 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:40:04.176 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:40:04.178 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:40:04.178 +07:00 [INF] Hosting environment: Development
2024-05-01 20:40:04.178 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:40:04.241 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:40:04.363 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:40:04.414 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 173.5141ms
2024-05-01 20:40:04.447 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:40:04.455 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.259ms
2024-05-01 20:40:35.609 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:40:35.638 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:40:35.639 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:40:35.641 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:40:35.642 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:40:35.645 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:40:41.419 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:40:44.052 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:40:47.710 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 20:40:47.729 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:41:25.506 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 20:41:33.306 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (51887 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:40:19.0500000Z","$type":"SendMessageCommand"}
2024-05-01 20:41:37.722 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:41:37.736 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 62127.5659ms
2024-05-01 20:45:07.178 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:45:07.895 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:45:08.293 +07:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:08.316 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:45:08.345 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:08.358 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:08.360 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:45:08.372 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:45:08.560 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:45:10.928 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:45:11.485 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:45:11.790 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:11.810 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:45:11.833 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:11.845 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:11.847 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:45:11.855 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:45:12.004 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:45:12.255 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:45:12.255 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:45:12.257 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:45:12.257 +07:00 [INF] Hosting environment: Development
2024-05-01 20:45:12.257 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:45:12.340 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:45:12.465 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:45:12.531 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 191.787ms
2024-05-01 20:45:12.619 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:45:12.629 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 9.7113ms
2024-05-01 20:45:13.124 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:45:13.131 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:45:13.133 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 8.3738ms
2024-05-01 20:45:50.490 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:45:51.220 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:45:51.624 +07:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:51.650 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:45:51.677 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:51.693 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:51.695 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:45:51.707 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:45:51.877 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:45:55.142 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:45:56.378 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:45:56.822 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:56.846 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:45:56.867 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:56.879 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:45:56.881 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:45:56.890 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:45:57.129 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:45:57.585 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:45:57.586 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:45:57.595 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:45:57.596 +07:00 [INF] Hosting environment: Development
2024-05-01 20:45:57.596 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:45:57.757 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:45:57.947 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:45:58.029 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 272.5819ms
2024-05-01 20:45:58.063 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:45:58.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.7539ms
2024-05-01 20:46:08.204 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:46:08.959 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:46:09.347 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:46:09.368 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:46:09.393 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:46:09.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:46:09.408 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:46:09.416 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:46:09.596 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:46:11.712 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:46:12.340 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:46:12.797 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:46:12.815 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:46:12.837 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:46:12.850 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:46:12.852 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:46:12.861 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:46:12.995 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:46:13.267 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:46:13.267 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:46:13.268 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:46:13.269 +07:00 [INF] Hosting environment: Development
2024-05-01 20:46:13.269 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:46:13.341 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:46:13.479 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:46:13.536 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 195.7304ms
2024-05-01 20:46:13.561 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:46:13.571 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 9.4843ms
2024-05-01 20:46:44.114 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 20:46:44.139 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:46:44.139 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:46:44.140 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:46:44.140 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:46:44.141 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:46:49.542 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:46:51.725 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:46:53.539 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 20:46:53.549 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:47:30.361 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 20:47:37.787 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (47903 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T13:46:16.1910000Z","$type":"SendMessageCommand"}
2024-05-01 20:47:41.393 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:47:41.407 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 57292.7093ms
2024-05-01 20:48:04.770 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 99
2024-05-01 20:48:04.778 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:48:04.779 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:48:04.779 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:48:04.779 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:48:04.780 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:48:09.495 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:48:11.529 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:48:19.482 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:48:45.834 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta!","craetedAt":"2024-05-01T13:46:16.1910000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:48:45.989 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:48:45.994 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:48:46.000 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:48:46.002 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta!","craetedAt":"2024-05-01T13:46:16.1910000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:48:46.118 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:48:46.122 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:48:46.127 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:48:46.131 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta!","craetedAt":"2024-05-01T13:46:16.1910000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:48:46.239 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:48:46.246 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:48:46.262 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:48:46.266 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta!","craetedAt":"2024-05-01T13:46:16.1910000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:48:46.271 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:48:46.274 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 34
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:48:46.290 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 41520.6681ms
2024-05-01 20:49:26.106 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:49:26.902 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:49:27.369 +07:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:49:27.395 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:49:27.424 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:49:27.440 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:49:27.441 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:49:27.451 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:49:27.653 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:49:30.150 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:49:30.776 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:49:31.145 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:49:31.167 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:49:31.193 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:49:31.206 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:49:31.208 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:49:31.220 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:49:31.407 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:49:31.828 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:49:31.828 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:49:31.831 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:49:31.832 +07:00 [INF] Hosting environment: Development
2024-05-01 20:49:31.834 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:49:32.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:49:32.552 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:49:32.687 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 343.0862ms
2024-05-01 20:49:32.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:49:32.778 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 11.7152ms
2024-05-01 20:49:33.223 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:49:33.231 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:49:33.233 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 10.0167ms
2024-05-01 20:49:47.326 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 99
2024-05-01 20:49:47.335 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:49:47.335 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:49:47.338 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:49:47.339 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:49:47.343 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:49:52.652 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:49:55.193 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 20:50:24.061 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (32411 milliseconds)   {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
2024-05-01 20:50:27.324 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:50:27.330 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 40004.2479ms
2024-05-01 20:50:45.172 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 99
2024-05-01 20:50:45.181 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:50:45.182 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:50:45.182 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:50:45.182 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:50:45.183 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:50:48.990 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:50:48.998 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:50:49.246 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 20:50:49.268 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:50:49.393 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:50:49.549 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:50:49.555 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:50:49.563 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:50:49.566 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:50:49.689 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:50:49.694 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:50:49.701 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:50:49.703 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:50:49.810 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:50:49.814 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:50:49.818 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:50:49.821 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:50:49.829 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:50:49.832 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:50:49.850 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 4678.0883ms
2024-05-01 20:51:02.151 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 99
2024-05-01 20:51:02.152 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:51:02.152 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:51:02.152 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:51:02.152 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:51:02.152 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:51:06.790 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:51:08.761 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:51:11.697 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:51:13.848 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:51:18.302 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:51:19.166 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:51:51.092 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:52:13.322 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:52:16.726 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:52:17.249 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:52:18.828 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:52:55.593 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:52:58.831 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:52:59.443 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:53:00.528 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:53:04.517 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:49:35.1800000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:53:04.639 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:53:04.639 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:53:04.642 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 122500.505ms
2024-05-01 20:55:46.482 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:55:47.087 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:55:47.410 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:55:47.428 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:55:47.450 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:55:47.463 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:55:47.466 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:55:47.478 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:55:47.643 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:55:49.365 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:55:49.837 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:55:50.091 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:55:50.106 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:55:50.128 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:55:50.142 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:55:50.143 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:55:50.150 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:55:50.256 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:55:50.462 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:55:50.462 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:55:50.464 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:55:50.464 +07:00 [INF] Hosting environment: Development
2024-05-01 20:55:50.464 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:55:50.525 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:55:50.630 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:55:50.677 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 152.8209ms
2024-05-01 20:55:50.762 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:55:50.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.0311ms
2024-05-01 20:55:51.196 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 20:55:51.201 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 20:55:51.202 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 6.2241ms
2024-05-01 20:56:09.653 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:56:10.201 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:56:10.521 +07:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:56:10.540 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:56:10.564 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:56:10.578 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:56:10.579 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:56:10.590 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:56:10.733 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:56:12.585 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 20:56:13.141 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 20:56:13.413 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:56:13.432 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:56:13.455 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:56:13.468 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 20:56:13.469 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 20:56:13.478 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 20:56:13.637 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 20:56:13.877 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 20:56:13.877 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 20:56:13.879 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 20:56:13.879 +07:00 [INF] Hosting environment: Development
2024-05-01 20:56:13.879 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 20:56:13.946 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 20:56:14.063 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 20:56:14.114 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 168.6465ms
2024-05-01 20:56:14.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 20:56:14.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.3819ms
2024-05-01 20:56:44.393 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 99
2024-05-01 20:56:44.409 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:56:44.409 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:56:44.411 +07:00 [INF] CORS policy execution failed.
2024-05-01 20:56:44.411 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 20:56:44.413 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:56:58.315 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:56:59.303 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:57:01.986 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 20:57:01.997 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:57:03.557 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:56:26.5450000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:57:08.154 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:57:08.938 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:57:17.266 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:57:34.322 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:56:26.5450000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:57:53.659 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:57:54.726 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:57:56.641 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:57:59.921 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:56:26.5450000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:58:42.570 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 20:58:43.420 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 20:58:48.868 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON t."Id" = c1."ConversationId"
ORDER BY t."Id", m."Id"
2024-05-01 20:59:18.983 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T13:56:26.5450000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 20:59:19.109 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 20:59:19.110 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 20:59:19.126 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 154732.8185ms
2024-05-01 21:00:35.518 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:00:36.234 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:00:36.597 +07:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:00:36.618 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:00:36.641 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:00:36.652 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:00:36.654 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:00:36.663 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:00:36.813 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:00:38.603 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:00:39.097 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:00:39.359 +07:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:00:39.376 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:00:39.432 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:00:39.447 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:00:39.449 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:00:39.458 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:00:39.590 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:00:39.822 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:00:39.822 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:00:39.823 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:00:39.824 +07:00 [INF] Hosting environment: Development
2024-05-01 21:00:39.824 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:00:39.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:00:39.992 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:00:40.038 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 153.2577ms
2024-05-01 21:00:40.097 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:00:40.105 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 8.4515ms
2024-05-01 21:01:04.815 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:01:05.400 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:01:05.725 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:01:05.744 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:01:05.774 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:01:05.788 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:01:05.790 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:01:05.800 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:01:05.968 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:01:07.771 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:01:08.476 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:01:08.919 +07:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:01:08.941 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:01:08.959 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:01:08.971 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:01:08.972 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:01:08.981 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:01:09.098 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:01:09.441 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:01:09.441 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:01:09.442 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:01:09.443 +07:00 [INF] Hosting environment: Development
2024-05-01 21:01:09.443 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:01:09.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:01:09.620 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:01:09.666 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 155.965ms
2024-05-01 21:01:09.696 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:01:09.703 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.5898ms
2024-05-01 21:01:09.903 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:01:09.911 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:01:09.912 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 8.772ms
2024-05-01 21:01:44.745 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 99
2024-05-01 21:01:44.752 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:01:44.753 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:01:44.754 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:01:44.754 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:01:44.758 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:01:50.938 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:01:52.436 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:01:55.001 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 21:01:55.023 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t0."Id", t0."ConversationId", t0."UserId", t0."Id0", t0."AccessFailedCount", t0."Bio", t0."ConcurrencyStamp", t0."DisplayName", t0."Email", t0."EmailConfirmed", t0."ExpireBearerToken", t0."ExpireVerifyCode", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName", t0."VerifyCode"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t0 ON t."Id" = t0."ConversationId"
ORDER BY t."Id", m."Id", t0."Id"
2024-05-01 21:02:25.030 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p10, @p11, @p12, @p13, @p14);
2024-05-01 21:02:32.129 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (42087 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T14:01:32.8950000Z","$type":"SendMessageCommand"}
2024-05-01 21:02:35.311 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:02:35.316 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 50571.0062ms
2024-05-01 21:02:58.413 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 99
2024-05-01 21:02:58.426 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:02:58.426 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:02:58.427 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:02:58.427 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:02:58.427 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:03:01.796 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:03:02.319 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:03:03.483 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t0."Id", t0."ConversationId", t0."UserId", t0."Id0", t0."AccessFailedCount", t0."Bio", t0."ConcurrencyStamp", t0."DisplayName", t0."Email", t0."EmailConfirmed", t0."ExpireBearerToken", t0."ExpireVerifyCode", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName", t0."VerifyCode"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t0 ON t."Id" = t0."ConversationId"
ORDER BY t."Id", m."Id", t0."Id"
2024-05-01 21:03:11.862 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 21:03:18.315 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (14633 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"bissmillah@okta1","craetedAt":"2024-05-01T14:01:32.8950000Z","$type":"SendMessageCommand"}
2024-05-01 21:03:21.360 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:03:21.361 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 22948.781ms
2024-05-01 21:04:39.215 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Users/login - application/json 125
2024-05-01 21:04:39.221 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:04:39.222 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:04:39.222 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:04:39.222 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:04:39.223 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Users/login'
2024-05-01 21:04:39.238 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-05-01 21:04:39.340 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ClaimType", a."ClaimValue", a."UserId"
FROM "AspNetUserClaims" AS a
WHERE a."UserId" = @__user_Id_0
2024-05-01 21:04:39.359 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2024-05-01 21:04:39.363 +07:00 [INF] AuthenticationScheme: Identity.Bearer signed in.
2024-05-01 21:04:39.373 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Users/login'
2024-05-01 21:04:39.374 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Users/login - 200 null application/json; charset=utf-8 159.5787ms
2024-05-01 21:05:27.213 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:05:27.250 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:05:27.251 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:05:27.253 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:05:27.254 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:05:27.254 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:05:38.429 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:05:40.298 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:05:54.153 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t0."Id", t0."ConversationId", t0."UserId", t0."Id0", t0."AccessFailedCount", t0."Bio", t0."ConcurrencyStamp", t0."DisplayName", t0."Email", t0."EmailConfirmed", t0."ExpireBearerToken", t0."ExpireVerifyCode", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName", t0."VerifyCode"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t0 ON t."Id" = t0."ConversationId"
ORDER BY t."Id", m."Id", t0."Id"
2024-05-01 21:06:16.376 +07:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p10, @p11, @p12, @p13, @p14);
2024-05-01 21:06:16.416 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:06:16.593 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:01:32.8950000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:06:20.025 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:06:20.771 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:06:22.636 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t0."Id", t0."ConversationId", t0."UserId", t0."Id0", t0."AccessFailedCount", t0."Bio", t0."ConcurrencyStamp", t0."DisplayName", t0."Email", t0."EmailConfirmed", t0."ExpireBearerToken", t0."ExpireVerifyCode", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName", t0."VerifyCode"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t0 ON t."Id" = t0."ConversationId"
ORDER BY t."Id", m."Id", t0."Id"
2024-05-01 21:06:23.598 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:01:32.8950000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:06:26.600 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:06:35.467 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:06:37.775 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t0."Id", t0."ConversationId", t0."UserId", t0."Id0", t0."AccessFailedCount", t0."Bio", t0."ConcurrencyStamp", t0."DisplayName", t0."Email", t0."EmailConfirmed", t0."ExpireBearerToken", t0."ExpireVerifyCode", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName", t0."VerifyCode"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t0 ON t."Id" = t0."ConversationId"
ORDER BY t."Id", m."Id", t0."Id"
2024-05-01 21:06:38.776 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:01:32.8950000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:06:41.732 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:06:42.550 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:06:48.607 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t0."Id", t0."ConversationId", t0."UserId", t0."Id0", t0."AccessFailedCount", t0."Bio", t0."ConcurrencyStamp", t0."DisplayName", t0."Email", t0."EmailConfirmed", t0."ExpireBearerToken", t0."ExpireVerifyCode", t0."LockoutEnabled", t0."LockoutEnd", t0."NormalizedEmail", t0."NormalizedUserName", t0."PasswordHash", t0."PhoneNumber", t0."PhoneNumberConfirmed", t0."SecurityStamp", t0."TwoFactorEnabled", t0."UserName", t0."VerifyCode"
FROM (
    SELECT c."Id", c."CreatedAt"
    FROM "Conversations" AS c
    WHERE EXISTS (
        SELECT 1
        FROM "ConversationsParticipants" AS c0
        LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
        WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
    LIMIT 1
) AS t
LEFT JOIN "Messages" AS m ON t."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t0 ON t."Id" = t0."ConversationId"
ORDER BY t."Id", m."Id", t0."Id"
2024-05-01 21:07:25.927 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:01:32.8950000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:07:26.044 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:07:26.045 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:07:26.051 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 118837.7398ms
2024-05-01 21:11:31.568 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:11:32.072 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:11:32.349 +07:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:11:32.373 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:11:32.396 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:11:32.410 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:11:32.412 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:11:32.420 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:11:32.557 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:11:34.258 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:11:34.843 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:11:35.123 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:11:35.141 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:11:35.165 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:11:35.179 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:11:35.182 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:11:35.189 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:11:35.324 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:11:35.562 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:11:35.563 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:11:35.565 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:11:35.565 +07:00 [INF] Hosting environment: Development
2024-05-01 21:11:35.565 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:11:35.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:11:35.733 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:11:35.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 147.1539ms
2024-05-01 21:11:35.830 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:11:35.838 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.0746ms
2024-05-01 21:11:36.248 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:11:36.255 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:11:36.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 8.3405ms
2024-05-01 21:12:17.666 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:12:17.676 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:12:17.677 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:12:17.678 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:12:17.678 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:12:17.680 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:12:22.306 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:12:24.360 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:12:27.214 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 21:12:27.226 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", m."Id", t."Id"
2024-05-01 21:14:53.400 +07:00 [ERR] Failed executing DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p10, @p11, @p12, @p13, @p14);
2024-05-01 21:14:53.526 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:14:53.728 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:11:53.9020000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:14:56.118 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:14:56.825 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:14:58.062 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", m."Id", t."Id"
2024-05-01 21:14:58.845 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:11:53.9020000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__8(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:15:02.562 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:15:03.514 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:15:11.663 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", m."Id", t."Id"
2024-05-01 21:15:20.711 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:11:53.9020000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__8(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:15:23.649 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:15:24.490 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:15:31.180 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", m."Id", t."Id"
2024-05-01 21:16:10.689 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:11:53.9020000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__8(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:16:10.814 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:16:10.815 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__8(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:16:10.835 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 233169.1915ms
2024-05-01 21:16:39.891 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:16:40.394 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:16:40.676 +07:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:16:40.693 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:16:40.715 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:16:40.731 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:16:40.732 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:16:40.740 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:16:40.870 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:16:50.349 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:16:50.964 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:16:51.371 +07:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:16:51.388 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:16:51.413 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:16:51.430 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:16:51.431 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:16:51.441 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:16:51.594 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:16:52.136 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:16:52.136 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:16:52.138 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:16:52.138 +07:00 [INF] Hosting environment: Development
2024-05-01 21:16:52.138 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:16:52.279 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:16:52.418 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:16:52.678 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 399.5919ms
2024-05-01 21:16:52.748 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:16:52.755 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.0048ms
2024-05-01 21:17:20.366 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:17:21.008 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:17:21.316 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:17:21.334 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:17:21.355 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:17:21.367 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:17:21.368 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:17:21.375 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:17:21.502 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:17:23.322 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:17:23.803 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:17:24.059 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:17:24.076 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:17:24.102 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:17:24.117 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:17:24.118 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:17:24.125 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:17:24.296 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:17:24.541 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:17:24.541 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:17:24.542 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:17:24.542 +07:00 [INF] Hosting environment: Development
2024-05-01 21:17:24.542 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:17:24.617 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:17:24.822 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:17:24.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 264.5759ms
2024-05-01 21:17:24.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:17:24.916 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 9.7832ms
2024-05-01 21:17:48.679 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:17:48.694 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:17:48.694 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:17:48.695 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:17:48.695 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:17:48.697 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:17:52.816 +07:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:17:54.212 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:17:56.977 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id"
2024-05-01 21:18:09.121 +07:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?', @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime), @p12='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p2, @p3, @p4);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p5, @p6, @p7);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p8, @p9, @p10, @p11, @p12);
2024-05-01 21:18:09.143 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:18:09.159 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:17:33.4050000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:18:09.315 +07:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?', @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Guid), @p22='?', @p23='?' (DbType = Guid), @p24='?' (DbType = DateTime), @p25='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p10, @p11, @p12);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p13, @p14, @p15);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p16, @p17, @p18, @p19, @p20);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p21, @p22, @p23, @p24, @p25);
2024-05-01 21:18:09.320 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:18:09.333 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:17:33.4050000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:18:09.465 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?', @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?', @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime), @p28='?', @p29='?' (DbType = Guid), @p30='?', @p31='?' (DbType = Guid), @p32='?' (DbType = DateTime), @p33='?', @p34='?' (DbType = Guid), @p35='?', @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime), @p38='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p6, @p7, @p8);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p9, @p10, @p11);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p12, @p13, @p14);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p15, @p16, @p17);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p18, @p19, @p20);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p21, @p22, @p23);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p24, @p25, @p26, @p27, @p28);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p29, @p30, @p31, @p32, @p33);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p34, @p35, @p36, @p37, @p38);
2024-05-01 21:18:09.470 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:18:09.480 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:17:33.4050000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:18:09.606 +07:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?', @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?', @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?', @p29='?' (DbType = Guid), @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Guid), @p33='?', @p34='?' (DbType = Guid), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Guid), @p38='?', @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?', @p42='?' (DbType = Guid), @p43='?', @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime), @p46='?', @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime), @p51='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p6, @p7);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p8, @p9, @p10);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p11, @p12, @p13);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p14, @p15, @p16);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p17, @p18, @p19);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p20, @p21, @p22);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p23, @p24, @p25);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p26, @p27, @p28);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p29, @p30, @p31);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p32, @p33, @p34, @p35, @p36);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p37, @p38, @p39, @p40, @p41);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p42, @p43, @p44, @p45, @p46);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p47, @p48, @p49, @p50, @p51);
2024-05-01 21:18:09.612 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:18:09.625 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:17:33.4050000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:18:09.631 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:18:09.633 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:18:09.648 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 20969.0504ms
2024-05-01 21:18:44.212 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:18:44.772 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:18:45.162 +07:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:18:45.186 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:18:45.209 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:18:45.220 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:18:45.222 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:18:45.233 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:18:45.383 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:18:47.429 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:18:47.945 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:18:48.215 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:18:48.233 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:18:48.256 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:18:48.273 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:18:48.275 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:18:48.283 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:18:48.416 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:18:48.687 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:18:48.687 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:18:48.688 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:18:48.688 +07:00 [INF] Hosting environment: Development
2024-05-01 21:18:48.689 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:18:48.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:18:48.898 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:18:48.950 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 191.4829ms
2024-05-01 21:18:49.013 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:18:49.019 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 5.5757ms
2024-05-01 21:18:49.452 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:18:49.459 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:18:49.460 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 8.1707ms
2024-05-01 21:19:22.891 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:19:22.903 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:19:22.904 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:19:22.905 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:19:22.905 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:19:22.906 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:19:29.935 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:19:30.502 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:19:32.127 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:21:19.139 +07:00 [ERR] Failed executing DbCommand (24ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p10, @p11, @p12, @p13, @p14);
2024-05-01 21:21:19.174 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:21:19.367 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:18:58.7750000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:21:25.963 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:21:26.570 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:21:27.941 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:21:28.773 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:18:58.7750000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:21:31.827 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:21:32.910 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:21:34.491 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:21:56.595 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:18:58.7750000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:21:59.464 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:21:59.953 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:22:01.260 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:22:02.046 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:18:58.7750000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:22:02.167 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:22:02.168 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:22:02.180 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 159288.6328ms
2024-05-01 21:22:43.133 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:22:43.755 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:22:44.119 +07:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:22:44.151 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:22:44.183 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:22:44.198 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:22:44.201 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:22:44.215 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:22:44.364 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:22:46.599 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:22:47.224 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:22:47.510 +07:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:22:47.537 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:22:47.575 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:22:47.589 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:22:47.591 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:22:47.603 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:22:47.751 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:22:47.977 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:22:47.978 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:22:47.979 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:22:47.979 +07:00 [INF] Hosting environment: Development
2024-05-01 21:22:47.979 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:22:52.644 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:22:52.780 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:22:52.842 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 198.9256ms
2024-05-01 21:22:52.881 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:22:52.893 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 10.9465ms
2024-05-01 21:23:16.213 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:23:16.222 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:23:16.223 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:23:16.224 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:23:16.224 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:23:16.226 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:23:16.318 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:23:16.384 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:23:16.472 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c1."Id", c1."ConversationId", c1."UserId"
FROM "Conversations" AS c
LEFT JOIN "ConversationsParticipants" AS c1 ON c."Id" = c1."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id"
2024-05-01 21:23:16.502 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:22:55.0980000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__6(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:23:16.645 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:23:16.650 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:23:16.654 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c1."Id", c1."ConversationId", c1."UserId"
FROM "Conversations" AS c
LEFT JOIN "ConversationsParticipants" AS c1 ON c."Id" = c1."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id"
2024-05-01 21:23:16.658 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:22:55.0980000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__6(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:23:16.775 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:23:16.778 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:23:16.781 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c1."Id", c1."ConversationId", c1."UserId"
FROM "Conversations" AS c
LEFT JOIN "ConversationsParticipants" AS c1 ON c."Id" = c1."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id"
2024-05-01 21:23:16.782 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:22:55.0980000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__6(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:23:16.887 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:23:16.891 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:23:16.894 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", c1."Id", c1."ConversationId", c1."UserId"
FROM "Conversations" AS c
LEFT JOIN "ConversationsParticipants" AS c1 ON c."Id" = c1."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id"
2024-05-01 21:23:16.894 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:22:55.0980000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__6(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:23:16.899 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:23:16.900 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__6(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:23:16.923 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 710.175ms
2024-05-01 21:25:37.199 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:25:37.740 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:25:38.067 +07:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:25:38.086 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:25:38.110 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:25:38.122 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:25:38.123 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:25:38.131 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:25:38.284 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:25:40.270 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:25:40.761 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:25:41.025 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:25:41.044 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:25:41.110 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:25:41.125 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:25:41.127 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:25:41.134 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:25:41.244 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:25:41.475 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:25:41.476 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:25:41.477 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:25:41.477 +07:00 [INF] Hosting environment: Development
2024-05-01 21:25:41.477 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:25:41.624 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:25:41.735 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:25:41.782 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 158.4401ms
2024-05-01 21:25:41.808 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:25:41.814 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.595ms
2024-05-01 21:26:43.281 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:26:43.290 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:26:43.290 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:26:43.291 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:26:43.291 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:26:43.292 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:26:43.372 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-05-01 21:26:43.430 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-05-01 21:26:43.490 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?', @__toUser_UserName_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt"
FROM "Conversations" AS c
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0) AND EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
    WHERE c."Id" = c1."ConversationId" AND a0."UserName" = @__toUser_UserName_1)
LIMIT 1
2024-05-01 21:26:43.649 +07:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?', @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = DateTime), @p12='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p2, @p3, @p4);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p5, @p6, @p7);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p8, @p9, @p10, @p11, @p12);
2024-05-01 21:26:43.675 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:26:43.692 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","CreatedAt":"0001-01-01T00:00:00.0000000","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 57
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:26:43.863 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?' (DbType = Guid), @p12='?', @p13='?' (DbType = Guid), @p14='?' (DbType = Guid), @p15='?', @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime), @p20='?', @p21='?' (DbType = Guid), @p22='?', @p23='?' (DbType = Guid), @p24='?' (DbType = DateTime), @p25='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p10, @p11, @p12);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p13, @p14, @p15);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p16, @p17, @p18, @p19, @p20);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p21, @p22, @p23, @p24, @p25);
2024-05-01 21:26:43.869 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:26:43.887 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","CreatedAt":"0001-01-01T00:00:00.0000000","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 57
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:26:44.035 +07:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?', @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?', @p15='?' (DbType = Guid), @p16='?' (DbType = Guid), @p17='?', @p18='?' (DbType = Guid), @p19='?' (DbType = Guid), @p20='?', @p21='?' (DbType = Guid), @p22='?' (DbType = Guid), @p23='?', @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Guid), @p27='?' (DbType = DateTime), @p28='?', @p29='?' (DbType = Guid), @p30='?', @p31='?' (DbType = Guid), @p32='?' (DbType = DateTime), @p33='?', @p34='?' (DbType = Guid), @p35='?', @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime), @p38='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p6, @p7, @p8);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p9, @p10, @p11);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p12, @p13, @p14);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p15, @p16, @p17);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p18, @p19, @p20);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p21, @p22, @p23);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p24, @p25, @p26, @p27, @p28);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p29, @p30, @p31, @p32, @p33);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p34, @p35, @p36, @p37, @p38);
2024-05-01 21:26:44.041 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:26:44.054 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","CreatedAt":"0001-01-01T00:00:00.0000000","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 57
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:26:44.176 +07:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime), @p8='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?', @p11='?' (DbType = Guid), @p12='?' (DbType = Guid), @p13='?', @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?', @p17='?' (DbType = Guid), @p18='?' (DbType = Guid), @p19='?', @p20='?' (DbType = Guid), @p21='?' (DbType = Guid), @p22='?', @p23='?' (DbType = Guid), @p24='?' (DbType = Guid), @p25='?', @p26='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?', @p29='?' (DbType = Guid), @p30='?' (DbType = Guid), @p31='?', @p32='?' (DbType = Guid), @p33='?', @p34='?' (DbType = Guid), @p35='?' (DbType = DateTime), @p36='?', @p37='?' (DbType = Guid), @p38='?', @p39='?' (DbType = Guid), @p40='?' (DbType = DateTime), @p41='?', @p42='?' (DbType = Guid), @p43='?', @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime), @p46='?', @p47='?' (DbType = Guid), @p48='?', @p49='?' (DbType = Guid), @p50='?' (DbType = DateTime), @p51='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p2, @p3);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p4, @p5);
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p6, @p7);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p8, @p9, @p10);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p11, @p12, @p13);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p14, @p15, @p16);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p17, @p18, @p19);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p20, @p21, @p22);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p23, @p24, @p25);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p26, @p27, @p28);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p29, @p30, @p31);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p32, @p33, @p34, @p35, @p36);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p37, @p38, @p39, @p40, @p41);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p42, @p43, @p44, @p45, @p46);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p47, @p48, @p49, @p50, @p51);
2024-05-01 21:26:44.179 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:26:44.187 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","CreatedAt":"0001-01-01T00:00:00.0000000","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 57
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:26:44.195 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:26:44.196 +07:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 57
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 30
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:26:44.224 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 943.0903ms
2024-05-01 21:27:00.180 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:27:00.184 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:27:00.184 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:27:00.184 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:27:00.184 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:27:00.184 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:27:00.197 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-05-01 21:27:00.201 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-05-01 21:27:11.346 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__currentUser_UserName_0='?', @__toUser_UserName_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt"
FROM "Conversations" AS c
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0) AND EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
    WHERE c."Id" = c1."ConversationId" AND a0."UserName" = @__toUser_UserName_1)
LIMIT 1
2024-05-01 21:27:57.385 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:27:57.903 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:27:58.164 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:27:58.184 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:27:58.211 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:27:58.224 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:27:58.226 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:27:58.233 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:27:58.345 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:28:00.224 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:28:00.795 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:28:01.111 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:28:01.129 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:28:01.153 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:28:01.167 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:28:01.169 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:28:01.178 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:28:01.305 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:28:01.597 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:28:01.597 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:28:01.598 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:28:01.599 +07:00 [INF] Hosting environment: Development
2024-05-01 21:28:01.599 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:28:02.570 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:28:02.694 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:28:02.744 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 175.6081ms
2024-05-01 21:28:02.801 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:28:02.808 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.2607ms
2024-05-01 21:28:03.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:28:03.548 +07:00 [INF] Sending file. Request path: '/api/specification.json'. Physical path: 'C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\wwwroot\api\specification.json'
2024-05-01 21:28:03.549 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 200 56174 application/json 35.3252ms
2024-05-01 21:28:22.873 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:28:22.879 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:28:22.879 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:28:22.880 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:28:22.880 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:28:22.882 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:28:22.974 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:28:23.058 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:28:23.150 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-05-01 21:28:23.160 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON c."Id" = c1."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", m."Id"
2024-05-01 21:28:23.213 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:28:07.5090000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:28:23.359 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:28:23.363 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:28:23.367 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON c."Id" = c1."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", m."Id"
2024-05-01 21:28:23.368 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:28:07.5090000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:28:23.490 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:28:23.492 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:28:23.495 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON c."Id" = c1."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", m."Id"
2024-05-01 21:28:23.495 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:28:07.5090000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:28:23.605 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:28:23.608 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:28:23.611 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", m."Id", m."Body", m."ConversationsId", m."CraetedAt", m."SenderId", c1."Id", c1."ConversationId", c1."UserId"
FROM "Conversations" AS c
LEFT JOIN "Messages" AS m ON c."Id" = m."ConversationsId"
LEFT JOIN "ConversationsParticipants" AS c1 ON c."Id" = c1."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", m."Id"
2024-05-01 21:28:23.611 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:28:07.5090000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:28:23.614 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:28:23.617 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:28:23.640 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 767.1648ms
2024-05-01 21:28:59.697 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:29:00.389 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:29:00.709 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:29:00.725 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:29:00.747 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:29:00.757 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:29:00.758 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:29:00.765 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:29:00.893 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:29:02.627 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:29:03.047 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:29:03.298 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:29:03.314 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:29:03.337 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:29:03.350 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:29:03.351 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:29:03.359 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:29:03.472 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:29:03.691 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:29:03.692 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:29:03.693 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:29:03.693 +07:00 [INF] Hosting environment: Development
2024-05-01 21:29:03.693 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:29:03.754 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:29:03.859 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:29:03.904 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 151.1174ms
2024-05-01 21:29:03.931 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:29:03.939 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.9949ms
2024-05-01 21:29:04.377 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:29:04.382 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:29:04.382 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 5.0772ms
2024-05-01 21:30:17.644 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:30:18.204 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:30:18.554 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:18.574 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:30:18.599 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:18.614 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:18.615 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:30:18.629 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:30:18.780 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:30:28.565 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:30:29.178 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:30:29.498 +07:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:29.517 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:30:29.541 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:29.556 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:29.558 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:30:29.571 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:30:29.734 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:30:31.640 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:30:32.074 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:30:32.330 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:32.347 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:30:32.368 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:32.381 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:30:32.383 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:30:32.390 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:30:32.497 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:30:32.709 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:30:32.709 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:30:32.711 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:30:32.711 +07:00 [INF] Hosting environment: Development
2024-05-01 21:30:32.711 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:30:32.772 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:30:32.885 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:30:32.932 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 159.6386ms
2024-05-01 21:30:32.981 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:30:32.988 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.375ms
2024-05-01 21:30:33.417 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:30:33.425 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:30:33.426 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 9.8487ms
2024-05-01 21:31:12.082 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:31:12.089 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:31:12.090 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:31:12.091 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:31:12.091 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:31:12.093 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:31:12.173 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:31:12.229 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:31:12.311 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:31:12.477 +07:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p10, @p11, @p12, @p13, @p14);
2024-05-01 21:31:12.501 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:31:12.520 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:30:47.7000000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:31:12.658 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:30:47.7000000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:31:12.772 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:30:47.7000000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:31:12.885 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:30:47.7000000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:31:12.887 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:31:12.888 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:31:12.905 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 822.6718ms
2024-05-01 21:33:31.893 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:33:32.529 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:33:32.838 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:33:32.853 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:33:32.876 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:33:32.891 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:33:32.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:33:32.900 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:33:33.007 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:33:34.793 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:33:35.246 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:33:35.502 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:33:35.518 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:33:35.544 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:33:35.559 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:33:35.561 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:33:35.570 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:33:35.705 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:33:35.952 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:33:35.952 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:33:35.953 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:33:35.953 +07:00 [INF] Hosting environment: Development
2024-05-01 21:33:35.954 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:33:36.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:33:36.120 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:33:36.166 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 152.735ms
2024-05-01 21:33:36.233 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:33:36.240 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.801ms
2024-05-01 21:33:36.614 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:33:36.621 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:33:36.622 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 8.1573ms
2024-05-01 21:34:10.869 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:34:10.876 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:34:10.876 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:34:10.877 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:34:10.877 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:34:10.879 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:34:15.923 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:34:16.029 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 21:34:22.249 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (6317 milliseconds)   {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:33:50.1880000Z","$type":"SendMessageCommand"}
2024-05-01 21:34:25.917 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:34:25.923 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 15053.2244ms
2024-05-01 21:34:36.442 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:34:44.450 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:34:44.450 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:34:44.450 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:34:44.450 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:34:44.450 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:34:51.294 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:34:52.813 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" IS NULL
LIMIT 1
2024-05-01 21:35:11.441 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (14857 milliseconds)   {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:33:50.1880000Z","$type":"SendMessageCommand"}
2024-05-01 21:35:14.168 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:35:14.168 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 37726.025ms
2024-05-01 21:35:39.696 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:35:39.703 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:35:39.703 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:35:39.703 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:35:39.703 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:35:39.703 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:35:43.398 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:35:44.425 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:35:46.986 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:37:11.628 +07:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p10, @p11, @p12, @p13, @p14);
2024-05-01 21:37:11.657 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:37:11.816 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:33:50.1880000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 68
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:37:15.308 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:37:15.792 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:37:16.846 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:37:17.640 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:33:50.1880000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:37:20.265 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:37:20.817 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:37:21.735 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:37:22.670 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:33:50.1880000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:37:25.142 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:37:25.653 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:37:26.757 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:37:27.513 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:33:50.1880000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:37:27.662 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:37:27.663 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:37:27.669 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 107972.6215ms
2024-05-01 21:38:24.394 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:38:24.949 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:38:25.258 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:38:25.274 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:38:25.296 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:38:25.309 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:38:25.310 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:38:25.320 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:38:25.441 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:38:27.312 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:38:27.837 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:38:28.098 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:38:28.112 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:38:28.133 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:38:28.145 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:38:28.146 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:38:28.153 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:38:28.278 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:38:28.562 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:38:28.562 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:38:28.563 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:38:28.564 +07:00 [INF] Hosting environment: Development
2024-05-01 21:38:28.564 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:38:28.629 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:38:28.766 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:38:28.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 194.3185ms
2024-05-01 21:38:28.880 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:38:28.888 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.9506ms
2024-05-01 21:38:29.328 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:38:29.333 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:38:29.334 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 5.638ms
2024-05-01 21:39:08.672 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:39:08.684 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:39:08.684 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:39:08.684 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:39:08.685 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:39:08.686 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:39:14.220 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:39:14.339 +07:00 [INF] Executed DbCommand (34ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:39:14.454 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:39:14.685 +07:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
2024-05-01 21:39:14.724 +07:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?', @p10='?' (DbType = Guid), @p11='?', @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p10, @p11, @p12, @p13, @p14);
2024-05-01 21:39:14.734 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:39:14.734 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:39:14.952 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:38:39.9570000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 69
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:39:18.549 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:39:19.362 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:39:22.350 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:39:23.314 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:38:39.9570000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:39:27.624 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:39:28.425 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:39:31.578 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:40:02.349 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:38:39.9570000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:40:04.728 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:40:05.198 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:40:06.573 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:40:28.778 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:38:39.9570000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:40:28.897 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:40:28.898 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:40:28.916 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 80244.0655ms
2024-05-01 21:40:46.306 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:40:51.243 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:40:51.243 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:40:51.243 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:40:51.243 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:40:51.243 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:40:56.068 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:40:57.077 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:40:58.456 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:42:29.067 +07:00 [ERR] Failed executing DbCommand (32,272ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
2024-05-01 21:42:30.369 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:42:30.370 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:42:30.514 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:38:39.9570000Z","$type":"SendMessageCommand"}
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 69
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:42:36.020 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:42:36.578 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:42:37.450 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:42:38.336 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:38:39.9570000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:42:41.816 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:42:42.407 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:42:43.361 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:42:44.320 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:38:39.9570000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:43:12.300 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:43:12.303 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:43:12.308 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:43:12.310 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:38:39.9570000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:43:12.312 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:43:12.312 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:43:12.316 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 146010.2608ms
2024-05-01 21:43:26.721 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:43:27.224 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:43:27.488 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:43:27.504 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:43:27.526 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:43:27.538 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:43:27.539 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:43:27.546 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:43:27.662 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:43:29.455 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:43:29.940 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:43:30.217 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:43:30.235 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:43:30.262 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:43:30.279 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:43:30.281 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:43:30.288 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:43:30.403 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:43:30.676 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:43:30.676 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:43:30.677 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:43:30.678 +07:00 [INF] Hosting environment: Development
2024-05-01 21:43:30.678 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:43:30.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:43:30.885 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:43:30.938 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 175.0153ms
2024-05-01 21:43:31.009 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:43:31.017 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 7.3362ms
2024-05-01 21:43:31.450 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:43:31.456 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:43:31.457 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 7.3668ms
2024-05-01 21:44:10.549 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:44:10.564 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:44:10.564 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:44:10.565 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:44:10.565 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:44:10.567 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:44:14.170 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:44:15.211 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:44:15.344 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:44:15.585 +07:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
2024-05-01 21:44:15.633 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:44:15.880 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:43:44.3330000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 60
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:44:18.889 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:44:19.762 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:44:22.281 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:44:35.023 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:43:44.3330000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:44:38.001 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:44:38.766 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:44:42.664 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:44:43.689 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:43:44.3330000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:44:46.293 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:44:46.812 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:44:48.067 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:44:57.289 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:43:44.3330000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:44:57.414 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:44:57.416 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:44:57.429 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 46880.3416ms
2024-05-01 21:45:02.638 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:45:02.642 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:45:02.642 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:45:02.642 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:45:02.642 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:45:02.642 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:45:08.409 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:45:09.174 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:45:11.606 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:45:37.759 +07:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p2='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?', @p7='?' (DbType = Guid), @p8='?' (DbType = Guid), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
UPDATE "ConversationsParticipants" SET "UserId" = @p2
WHERE "Id" = @p3;
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p4, @p5, @p6);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p7, @p8, @p9);
2024-05-01 21:45:37.765 +07:00 [ERR] An exception occurred in the database while saving changes for context type 'Reactivities_jason.Infrastructure.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-01 21:45:38.009 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:43:44.3330000Z","$type":"SendMessageCommand"}
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "IX_ConversationsParticipants_UserId"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: ConversationsParticipants
    ConstraintName: IX_ConversationsParticipants_UserId
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 60
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:45:53.304 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:45:53.784 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:45:54.855 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:45:55.487 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:43:44.3330000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:45:57.991 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:46:06.642 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:46:06.646 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:46:06.648 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:43:44.3330000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:46:06.761 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:46:06.764 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:46:06.767 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:46:06.768 +07:00 [ERR] Reactivities_jason Request: Unhandled Exception for Request SendMessageCommand {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:43:44.3330000Z","$type":"SendMessageCommand"}
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
2024-05-01 21:46:06.770 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:46:06.770 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__7(ConversationsParticipants x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.<>c__DisplayClass4_0.<Handle>b__0(Conversations x) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at System.Linq.Enumerable.TryGetSingle[TSource](IEnumerable`1 source, Func`2 predicate, Boolean& found)
   at System.Linq.Enumerable.SingleOrDefault[TSource](IEnumerable`1 source, Func`2 predicate)
   at Reactivities_jason.Application.Conversation.Message.SendMessageHandler.Handle(SendMessageCommand request, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Conversation\Message\SendMessage.cs:line 38
   at Reactivities_jason.Application.Common.Behaviours.PerformanceBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\PerformanceBehaviour.cs:line 30
   at Reactivities_jason.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 33
   at Reactivities_jason.Application.Common.Behaviours.AuthorizationBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\AuthorizationBehaviour.cs:line 77
   at Reactivities_jason.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 18
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.<>c__DisplayClass3_0.<<Handle>b__2>d.MoveNext() in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Reactivities_jason.Application.Common.Behaviours.RetryBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Application\Common\Behaviours\RetryBehavior.cs:line 24
   at Reactivities_jason.Web.Endpoints.Conversations.SendMessage(ISender sender, SendMessageCommand command) in C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\Endpoints\Conversations.cs:line 31
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|132_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-05-01 21:46:06.776 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 500 null text/plain 64137.484ms
2024-05-01 21:46:38.620 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:46:39.260 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:46:39.539 +07:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:46:39.557 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:46:39.577 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:46:39.591 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:46:39.593 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:46:39.606 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:46:39.769 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:46:41.572 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:46:42.086 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:46:42.350 +07:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:46:42.366 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:46:42.388 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:46:42.402 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:46:42.404 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:46:42.410 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:46:42.521 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:46:42.761 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:46:42.761 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:46:42.763 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:46:42.763 +07:00 [INF] Hosting environment: Development
2024-05-01 21:46:42.763 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:46:42.828 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:46:42.935 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:46:42.989 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 161.3741ms
2024-05-01 21:46:43.037 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:46:43.044 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 6.6436ms
2024-05-01 21:46:43.451 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:46:43.456 +07:00 [INF] The file /api/specification.json was not modified
2024-05-01 21:46:43.458 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 304 null application/json 6.5094ms
2024-05-01 21:54:09.922 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:54:10.429 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:54:10.712 +07:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:10.728 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:54:10.750 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:10.762 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:10.763 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:54:10.771 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:54:10.909 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:54:12.646 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:54:12.819 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:54:27.150 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:54:27.694 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:54:27.968 +07:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:27.983 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:54:28.004 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:28.015 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:28.016 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:54:28.023 +07:00 [INF] Applying migration '20240501145413_setConversations'.
2024-05-01 21:54:28.075 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_ConversationsParticipants_UserId";
2024-05-01 21:54:28.088 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ConversationsParticipants_UserId" ON "ConversationsParticipants" ("UserId");
2024-05-01 21:54:28.090 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240501145413_setConversations', '8.0.2');
2024-05-01 21:54:28.219 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:54:30.063 +07:00 [INF] User profile is available. Using 'C:\Users\UT School\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-01 21:54:30.515 +07:00 [WRN] The entity type 'Colour' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-05-01 21:54:30.770 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:30.787 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:54:30.814 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:30.830 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-05-01 21:54:30.832 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-05-01 21:54:30.841 +07:00 [INF] No migrations were applied. The database is already up to date.
2024-05-01 21:54:30.954 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "AppTokens" AS a)
2024-05-01 21:54:31.224 +07:00 [INF] Now listening on: https://localhost:5001
2024-05-01 21:54:31.224 +07:00 [INF] Now listening on: http://localhost:5000
2024-05-01 21:54:31.226 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-01 21:54:31.226 +07:00 [INF] Hosting environment: Development
2024-05-01 21:54:31.226 +07:00 [INF] Content root path: C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web
2024-05-01 21:54:31.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2024-05-01 21:54:31.647 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a.id, a."nameSetting", a.values
FROM "AppTokens" AS a
WHERE a."nameSetting" = 'Expire Bearers'
LIMIT 1
2024-05-01 21:54:31.657 +07:00 [INF] Executing endpoint '/'
2024-05-01 21:54:31.658 +07:00 [INF] Executing RedirectResult, redirecting to /api.
2024-05-01 21:54:31.658 +07:00 [INF] Executed endpoint '/'
2024-05-01 21:54:31.659 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 302 0 null 141.0235ms
2024-05-01 21:54:31.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api - null null
2024-05-01 21:54:31.673 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api - 302 0 null 4.7174ms
2024-05-01 21:54:31.679 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - null null
2024-05-01 21:54:31.737 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/index.html?url=/api/specification.json - 200 null text/html; charset=utf-8 57.9113ms
2024-05-01 21:54:31.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - null null
2024-05-01 21:54:31.776 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/_framework/aspnetcore-browser-refresh.js - 200 13732 application/javascript; charset=utf-8 15.6539ms
2024-05-01 21:54:31.956 +07:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/specification.json - null null
2024-05-01 21:54:31.992 +07:00 [INF] Sending file. Request path: '/api/specification.json'. Physical path: 'C:\Users\UT School\Documents\Okta Daffa Ramadani\React JS And ASP\Reactivities-collab\Reactivities-jason\src\Web\wwwroot\api\specification.json'
2024-05-01 21:54:31.993 +07:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/specification.json - 200 56164 application/json 36.7239ms
2024-05-01 21:55:12.035 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:55:12.040 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:55:12.040 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:55:12.041 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:55:12.041 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:55:12.042 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:55:12.137 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:55:12.200 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:55:12.296 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:55:12.435 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p2, @p3, @p4);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p5, @p6, @p7);
2024-05-01 21:55:12.485 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 21:55:12.491 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:55:12.494 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 459.242ms
2024-05-01 21:55:37.499 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:55:37.500 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:55:37.500 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:55:37.500 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:55:37.500 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:55:37.501 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:55:40.474 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:55:41.565 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:55:41.569 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:55:41.579 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 21:55:47.780 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (4792 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:54:54.1620000Z","$type":"SendMessageCommand"}
2024-05-01 21:55:52.260 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:55:52.260 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 14762.0856ms
2024-05-01 21:56:05.476 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:56:11.107 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:56:11.107 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:56:11.107 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:56:11.107 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:56:11.107 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:56:14.864 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:56:15.880 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:56:17.524 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:56:22.411 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 21:56:29.635 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (10386 milliseconds) 61ab3b2a-9576-470e-aa2c-335ef67dc98d oktadafasampang@gmail.com {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:54:54.1620000Z","$type":"SendMessageCommand"}
2024-05-01 21:56:32.418 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:56:32.418 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 26942.468ms
2024-05-01 21:57:00.860 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:57:05.992 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:57:05.993 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:57:05.993 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:57:05.993 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:57:05.993 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:57:08.979 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:57:09.843 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:57:11.563 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:57:37.129 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Guid), @p3='?' (DbType = Guid), @p4='?', @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Conversations" ("Id", "CreatedAt")
VALUES (@p0, @p1);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p2, @p3, @p4);
INSERT INTO "ConversationsParticipants" ("Id", "ConversationId", "UserId")
VALUES (@p5, @p6, @p7);
2024-05-01 21:57:40.142 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 21:57:46.947 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (33211 milliseconds) 990fd0a4-d324-487e-8119-408292443784 bissmillah@okta1 {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:54:54.1620000Z","$type":"SendMessageCommand"}
2024-05-01 21:57:50.414 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:57:50.414 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 49553.3995ms
2024-05-01 21:58:03.501 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 101
2024-05-01 21:58:03.502 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:58:03.502 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:58:03.502 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:58:03.502 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:58:03.503 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:58:06.246 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:58:06.783 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:58:09.143 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:58:13.276 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 21:58:19.519 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (11311 milliseconds) 990fd0a4-d324-487e-8119-408292443784 bissmillah@okta1 {"Body":"string","Username":"oktadafa@gmail.com","craetedAt":"2024-05-01T14:54:54.1620000Z","$type":"SendMessageCommand"}
2024-05-01 21:58:22.739 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:58:22.739 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 19238.3883ms
2024-05-01 21:58:55.882 +07:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - application/json 108
2024-05-01 21:59:00.971 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:59:00.971 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:59:00.971 +07:00 [INF] CORS policy execution failed.
2024-05-01 21:59:00.971 +07:00 [INF] Request origin https://localhost:5001 does not have permission to access the resource.
2024-05-01 21:59:00.971 +07:00 [INF] Executing endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:59:03.033 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Username_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__request_Username_0
LIMIT 1
2024-05-01 21:59:03.577 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__GetUsername_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."Bio", a."ConcurrencyStamp", a."DisplayName", a."Email", a."EmailConfirmed", a."ExpireBearerToken", a."ExpireVerifyCode", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName", a."VerifyCode"
FROM "AspNetUsers" AS a
WHERE a."UserName" = @__GetUsername_0
LIMIT 1
2024-05-01 21:59:04.540 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__currentUser_UserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."CreatedAt", t."Id", t."ConversationId", t."UserId", t."Id0", t."AccessFailedCount", t."Bio", t."ConcurrencyStamp", t."DisplayName", t."Email", t."EmailConfirmed", t."ExpireBearerToken", t."ExpireVerifyCode", t."LockoutEnabled", t."LockoutEnd", t."NormalizedEmail", t."NormalizedUserName", t."PasswordHash", t."PhoneNumber", t."PhoneNumberConfirmed", t."SecurityStamp", t."TwoFactorEnabled", t."UserName", t."VerifyCode"
FROM "Conversations" AS c
LEFT JOIN (
    SELECT c1."Id", c1."ConversationId", c1."UserId", a0."Id" AS "Id0", a0."AccessFailedCount", a0."Bio", a0."ConcurrencyStamp", a0."DisplayName", a0."Email", a0."EmailConfirmed", a0."ExpireBearerToken", a0."ExpireVerifyCode", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName", a0."VerifyCode"
    FROM "ConversationsParticipants" AS c1
    LEFT JOIN "AspNetUsers" AS a0 ON c1."UserId" = a0."Id"
) AS t ON c."Id" = t."ConversationId"
WHERE EXISTS (
    SELECT 1
    FROM "ConversationsParticipants" AS c0
    LEFT JOIN "AspNetUsers" AS a ON c0."UserId" = a."Id"
    WHERE c."Id" = c0."ConversationId" AND a."UserName" = @__currentUser_UserName_0)
ORDER BY c."Id", t."Id"
2024-05-01 21:59:06.759 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Messages" ("Id", "Body", "ConversationsId", "CraetedAt", "SenderId")
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-05-01 21:59:12.963 +07:00 [WRN] Reactivities_jason Long Running Request: SendMessageCommand (5367 milliseconds) 990fd0a4-d324-487e-8119-408292443784 bissmillah@okta1 {"Body":"string","Username":"oktadafasampang@gmail.com","craetedAt":"2024-05-01T14:54:54.1620000Z","$type":"SendMessageCommand"}
2024-05-01 21:59:16.176 +07:00 [INF] Executed endpoint 'HTTP: POST /api/Conversations/send/messege => SendMessage'
2024-05-01 21:59:16.176 +07:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/Conversations/send/messege - 200 null application/json; charset=utf-8 20294.2712ms
