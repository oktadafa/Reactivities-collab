apiVersion: v1
kind: Pod
metadata:
  name: pgadmin
  labels:
    app: pgadmin
spec:
  containers:
  - name: pgadmin
    image: elestio/pgadmin
    resources:
      limits:
        memory: "228Mi"
        cpu: "500m"
    ports:
      - containerPort: 80
    env:
      - name: PGADMIN_DEFAULT_DB
        value: postgres
      - name: PGADMIN_DEFAULT_EMAIL
        value: oktadafasampang@gmail.com
      - name: PGADMIN_DEFAULT_PASSWORD
        value: okta
---
apiVersion: v1
kind: Service
metadata:
  name: pgadmin
spec:
  type: NodePort
  selector:
    app: pgadmin
  ports:
    - port: 80
      targetPort: 80
      nodePort: 30080
